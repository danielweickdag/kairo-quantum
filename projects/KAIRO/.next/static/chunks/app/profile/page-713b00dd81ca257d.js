(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{362:(e,t,r)=>{Promise.resolve().then(r.bind(r,1970))},906:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},1078:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1169:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1524:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1873:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1970:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var a=r(5155),s=r(2115),l=r(5380),o=r(5485),i=r(1078),n=r(5105);let c=(0,n.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);var d=r(5229),x=r(6046);let u=(0,n.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var g=r(7816),m=r(1169),h=r(1524),y=r(6485),b=r(3664),f=r(9141),p=r(1873),k=r(906),N=r(2472),v=r(2663);function j(){let{user:e,updateProfile:t}=(0,l.As)(),{theme:r}=(0,o.DP)(),[n,j]=(0,s.useState)(null),[w,A]=(0,s.useState)(!1),[P,S]=(0,s.useState)(!0),[I,T]=(0,s.useState)(!1),[C,M]=(0,s.useState)({firstName:"",lastName:"",username:"",bio:"",phone:"",location:"",isPublic:!0,riskTolerance:"MEDIUM"});(0,s.useEffect)(()=>{L()},[]);let L=async()=>{try{if(S(!0),e){let t={id:e.id,firstName:e.firstName||"",lastName:e.lastName||"",username:e.username||"",email:e.email,phone:"",bio:e.bio||"",location:"",avatar:e.avatar,accountType:e.accountType||"INDIVIDUAL",isVerified:e.isVerified||!1,isPublic:e.isPublic||!0,riskTolerance:"MEDIUM",totalBalance:0,availableBalance:0,createdAt:e.createdAt||new Date().toISOString(),_count:{followers:0,following:0,portfolios:0}};j(t),M({firstName:t.firstName,lastName:t.lastName,username:t.username,bio:t.bio||"",phone:t.phone||"",location:t.location||"",isPublic:t.isPublic,riskTolerance:t.riskTolerance})}}catch(e){console.error("Error fetching profile:",e),v.oR.error("Failed to load profile")}finally{S(!1)}},E=async()=>{try{T(!0),await t(C),A(!1),v.oR.success("Profile updated successfully"),L()}catch(e){console.error("Error updating profile:",e),v.oR.error("Failed to update profile")}finally{T(!1)}};return P?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Profile"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your account information and preferences"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:w?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{n&&M({firstName:n.firstName,lastName:n.lastName,username:n.username,bio:n.bio||"",phone:n.phone||"",location:n.location||"",isPublic:n.isPublic,riskTolerance:n.riskTolerance}),A(!1)},className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-lg text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)("button",{onClick:E,disabled:I,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),I?"Saving...":"Save Changes"]})]}):(0,a.jsxs)("button",{onClick:()=>A(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[(0,a.jsx)(c,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})})]})})})}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-24 w-24 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center",children:n.avatar?(0,a.jsx)("img",{src:n.avatar,alt:"Profile",className:"h-24 w-24 rounded-full object-cover"}):(0,a.jsxs)("span",{className:"text-white font-bold text-2xl",children:[n.firstName[0],n.lastName[0]]})}),w&&(0,a.jsx)("button",{className:"absolute bottom-0 right-0 h-8 w-8 bg-blue-600 rounded-full flex items-center justify-center text-white hover:bg-blue-700 transition-colors",children:(0,a.jsx)(u,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n.firstName," ",n.lastName]}),n.isVerified&&(0,a.jsx)(g.A,{className:"h-6 w-6 text-blue-500"})]}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:["@",n.username]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-1"}),n._count.followers," followers"]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-1"}),n._count.portfolios," portfolios"]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"Joined ",new Date(n.createdAt).toLocaleDateString()]})]})]})]})}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Personal Information"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),w?(0,a.jsx)("input",{type:"text",value:C.firstName,onChange:e=>M({...C,firstName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.firstName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),w?(0,a.jsx)("input",{type:"text",value:C.lastName,onChange:e=>M({...C,lastName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.lastName})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username"}),w?(0,a.jsx)("input",{type:"text",value:C.username,onChange:e=>M({...C,username:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):(0,a.jsxs)("p",{className:"text-gray-900 dark:text-white",children:["@",n.username]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.email})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone"}),w?(0,a.jsx)("input",{type:"tel",value:C.phone,onChange:e=>M({...C,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.phone||"Not provided"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),w?(0,a.jsx)("input",{type:"text",value:C.location,onChange:e=>M({...C,location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter location"}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.location||"Not provided"})]})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),w?(0,a.jsx)("textarea",{value:C.bio,onChange:e=>M({...C,bio:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about yourself..."}):(0,a.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.bio||"No bio provided"})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Account Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Public Profile"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Make your profile visible to other users"})]}),w?(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:C.isPublic,onChange:e=>M({...C,isPublic:e.target.checked}),className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]}):(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(n.isPublic?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"),children:n.isPublic?"Public":"Private"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Risk Tolerance"}),w?(0,a.jsxs)("select",{value:C.riskTolerance,onChange:e=>M({...C,riskTolerance:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"LOW",children:"Low"}),(0,a.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,a.jsx)("option",{value:"HIGH",children:"High"}),(0,a.jsx)("option",{value:"VERY_HIGH",children:"Very High"})]}):(0,a.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("LOW"===n.riskTolerance?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"MEDIUM"===n.riskTolerance?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":"HIGH"===n.riskTolerance?"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"),children:n.riskTolerance.replace("_"," ")})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Account Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"h-12 w-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(k.A,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",n.totalBalance.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Balance"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"h-12 w-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(h.A,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",n.availableBalance.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Available Balance"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"h-12 w-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:(0,a.jsx)(N.A,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.accountType}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Account Type"})]})]})]})]})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Profile Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Unable to load your profile information."})]})})}},2472:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]])},3664:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5105:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(2115),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{color:o="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:d="",children:x,...u}=r;return(0,a.createElement)("svg",{ref:l,...s,width:i,height:i,stroke:o,strokeWidth:c?24*Number(n)/Number(i):n,className:["lucide","lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()),d].join(" "),...u},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(x)?x:[x]])});return r.displayName="".concat(e),r}},5229:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5380:(e,t,r)=>{"use strict";r.d(t,{As:()=>c,OJ:()=>n});var a=r(5155),s=r(2115),l=r(5125),o=r(2663);let i=(0,s.createContext)(void 0);l.A.defaults.baseURL="".concat("http://localhost:3001","/api"),l.A.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),l.A.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){r._retry=!0;try{let e=localStorage.getItem("refreshToken");if(e){let{token:t}=(await l.A.post("/auth/refresh",{refreshToken:e})).data.data;return localStorage.setItem("token",t),r.headers.Authorization="Bearer ".concat(t),(0,l.A)(r)}}catch(e){localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login"}}return Promise.reject(e)});let n=e=>{let{children:t}=e,[r,n]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{if(localStorage.getItem("token"))try{let e=await l.A.get("/auth/me");n(e.data.data.user)}catch(e){localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}d(!1)})()},[]);let x=async(e,t)=>{try{let{user:r,accessToken:a,refreshToken:s}=(await l.A.post("/auth/login",{email:e,password:t})).data.data;localStorage.setItem("token",a),localStorage.setItem("refreshToken",s),n(r),o.oR.success("Login successful!")}catch(t){var r,a;let e=(null==(a=t.response)||null==(r=a.data)?void 0:r.message)||"Login failed";throw o.oR.error(e),t}},u=async e=>{try{let{user:t,accessToken:r,refreshToken:a}=(await l.A.post("/auth/register",e)).data.data;localStorage.setItem("token",r),localStorage.setItem("refreshToken",a),n(t),o.oR.success("Registration successful!")}catch(a){var t,r;let e=(null==(r=a.response)||null==(t=r.data)?void 0:t.message)||"Registration failed";throw o.oR.error(e),a}},g=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),n(null),o.oR.success("Logged out successfully")},m=async e=>{try{let t=await l.A.put("/auth/profile",e);n(t.data.data.user),o.oR.success("Profile updated successfully!")}catch(a){var t,r;let e=(null==(r=a.response)||null==(t=r.data)?void 0:t.message)||"Profile update failed";throw o.oR.error(e),a}},h=async()=>{try{let e=localStorage.getItem("refreshToken");if(!e)throw Error("No refresh token");let{token:t}=(await l.A.post("/auth/refresh",{refreshToken:e})).data.data;localStorage.setItem("token",t)}catch(e){throw g(),e}};return(0,a.jsx)(i.Provider,{value:{user:r,loading:c,login:x,register:u,logout:g,updateProfile:m,refreshToken:h},children:t})},c=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},5485:(e,t,r)=>{"use strict";r.d(t,{DP:()=>i,NP:()=>o});var a=r(5155),s=r(2115);let l=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[r,o]=(0,s.useState)("light"),[i,n]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{n(!0);let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,r=e||(t?"dark":"light");o(r),"undefined"!=typeof document&&document.documentElement.classList.toggle("dark","dark"===r)},[]),!i)return(0,a.jsx)(a.Fragment,{children:t});let c=e=>{o(e),localStorage.setItem("theme",e),"undefined"!=typeof document&&document.documentElement.classList.toggle("dark","dark"===e)};return(0,a.jsx)(l.Provider,{value:{theme:r,toggleTheme:()=>{c("light"===r?"dark":"light")},setTheme:c},children:t})},i=()=>{let e=(0,s.useContext)(l);return void 0===e?{theme:"light",toggleTheme:()=>{},setTheme:()=>{}}:e}},6046:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},6485:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},7816:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9141:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])}},e=>{e.O(0,[2663,5125,8441,1255,7358],()=>e(e.s=362)),_N_E=e.O()}]);
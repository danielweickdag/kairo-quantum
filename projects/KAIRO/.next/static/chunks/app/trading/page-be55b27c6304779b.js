(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7552],{33:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},814:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},906:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},974:(e,t,r)=>{Promise.resolve().then(r.bind(r,1746))},1398:(e,t,r)=>{"use strict";r.d(t,{co:()=>c,nQ:()=>n,r_:()=>d,ux:()=>h});var a=r(2663),s=function(e){return e.VALIDATION="validation",e.NETWORK="network",e.AUTHENTICATION="authentication",e.TRADING="trading",e.COMPILATION="compilation",e.SYSTEM="system",e.USER_INPUT="user_input",e}({}),i=function(e){return e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e}({});let l={validation:{showToast:!0,logToConsole:!1,logToService:!1,retryable:!1},network:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!0},authentication:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!1},trading:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!0},compilation:{showToast:!1,logToConsole:!0,logToService:!1,retryable:!1},system:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!1},user_input:{showToast:!0,logToConsole:!1,logToService:!1,retryable:!1}};class o{static getInstance(){return o.instance||(o.instance=new o),o.instance}handle(e,t,r){let a=this.normalizeError(e,t),s={...l[a.type],...r};return this.addToQueue(a),s.showToast&&this.showToast(a),s.logToConsole&&this.logToConsole(a),s.logToService&&this.logToService(a),a}normalizeError(e,t){return"string"==typeof e?{type:"system",severity:"medium",message:e,timestamp:new Date,context:t}:e instanceof Error?{type:this.inferErrorType(e),severity:this.inferSeverity(e),message:e.message,details:{name:e.name,stack:e.stack},timestamp:new Date,context:t}:{...e,context:t||e.context}}inferErrorType(e){let t=e.message.toLowerCase(),r=e.name.toLowerCase();return t.includes("validation")||t.includes("required")||t.includes("invalid")?"validation":t.includes("network")||t.includes("fetch")||r.includes("network")?"network":t.includes("auth")||t.includes("token")||t.includes("unauthorized")?"authentication":t.includes("trade")||t.includes("order")||t.includes("position")?"trading":t.includes("compile")||t.includes("syntax")||t.includes("parse")?"compilation":"system"}inferSeverity(e){let t=e.message.toLowerCase();return t.includes("critical")||t.includes("fatal")?"critical":t.includes("failed")||t.includes("error")?"high":t.includes("warning")||t.includes("deprecated")?"medium":"low"}showToast(e){let t=this.formatUserMessage(e);switch(e.severity){case"critical":a.oR.error(t,{duration:8e3});break;case"high":a.oR.error(t,{duration:6e3});break;case"medium":(0,a.oR)(t,{icon:"⚠️",duration:4e3});break;case"low":(0,a.oR)(t,{icon:"ℹ️",duration:3e3})}}formatUserMessage(e){switch(e.type){case"validation":return e.message;case"network":return"Network error. Please check your connection and try again.";case"authentication":return"Authentication failed. Please log in again.";case"trading":return"Trading error: ".concat(e.message);case"compilation":return"Compilation error: ".concat(e.message);default:return"An unexpected error occurred. Please try again."}}logToConsole(e){("critical"===e.severity||"high"===e.severity?console.error:console.warn)("[".concat(e.type.toUpperCase(),"] ").concat(e.message),{severity:e.severity,timestamp:e.timestamp,context:e.context,details:e.details})}logToService(e){console.log("Would log to external service:",e)}addToQueue(e){this.errorQueue.push(e),this.errorQueue.length>this.maxQueueSize&&this.errorQueue.shift()}getRecentErrors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.errorQueue.slice(-e)}clearErrors(){this.errorQueue=[]}getErrorStats(){let e={total:this.errorQueue.length,byType:{},bySeverity:{}};return Object.values(s).forEach(t=>{e.byType[t]=0}),Object.values(i).forEach(t=>{e.bySeverity[t]=0}),this.errorQueue.forEach(t=>{e.byType[t.type]++,e.bySeverity[t.severity]++}),e}constructor(){this.errorQueue=[],this.maxQueueSize=100}}let d=o.getInstance(),c=(e,t)=>d.handle({type:"validation",severity:"medium",message:e,timestamp:new Date},t),n=(e,t)=>d.handle(e,t,{showToast:!0,logToConsole:!0,logToService:!0}),g=(e,t,r)=>d.handle({type:"trading",severity:"high",message:e,details:t,timestamp:new Date},r),x=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";return d.handle({type:"compilation",severity:"error"===r?"high":"medium",message:"Line ".concat(e,": ").concat(t),details:{line:e,type:r},timestamp:new Date},"Pine Script Compilation")},h=()=>({handleError:(e,t)=>d.handle(e,t),handleValidationError:c,handleNetworkError:n,handleTradingError:g,handleCompilationError:x,getRecentErrors:()=>d.getRecentErrors(),getErrorStats:()=>d.getErrorStats(),clearErrors:()=>d.clearErrors()})},1740:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]])},1746:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a=r(5155),s=r(2115),i=r(5380),l=r(9559),o=r(5870),d=r(9602),c=r(2987),n=r(814),g=r(906),x=r(33),h=r(6651),m=r(9347),u=r(7013),y=r(7840),p=r(1740),b=r(2619),v=r.n(b),k=r(5125),f=r(2663),w=r(1398);class j{async createTrade(e){try{let t=await k.A.post("/trades",e);if(t.data.success)return f.Ay.success("".concat(e.side," order for ").concat(e.symbol," placed successfully!")),t.data.data.trade;throw Error("Failed to create trade")}catch(e){throw(0,w.nQ)(e,"Trading Service - Create Trade")}}async getTrades(e){try{let t=await k.A.get("/trades",{params:e});if(t.data.success)return t.data.data;throw Error("Failed to fetch trades")}catch(e){throw(0,w.nQ)(e,"Trading Service - Get Trades")}}async getTradeById(e){try{let t=await k.A.get("/trades/".concat(e));if(t.data.success)return t.data.data.trade;throw Error("Failed to fetch trade")}catch(e){throw(0,w.nQ)(e,"Trading Service - Get Trade By ID")}}async cancelTrade(e){try{let t=await k.A.put("/trades/".concat(e,"/cancel"));if(t.data.success)return f.Ay.success("Trade cancelled successfully!"),t.data.data.trade;throw Error("Failed to cancel trade")}catch(e){throw(0,w.nQ)(e,"Trading Service - Cancel Trade")}}validateTradeData(e){let t=[];if(!e.portfolioId){let e=(0,w.co)("Portfolio is required","Trade Validation");t.push(e.message)}if(!e.symbol){let e=(0,w.co)("Symbol is required","Trade Validation");t.push(e.message)}if(!e.side){let e=(0,w.co)("Order side (BUY/SELL) is required","Trade Validation");t.push(e.message)}if(!e.quantity||e.quantity<=0){let e=(0,w.co)("Quantity must be greater than 0","Trade Validation");t.push(e.message)}if(!e.price||e.price<=0){let e=(0,w.co)("Price must be greater than 0","Trade Validation");t.push(e.message)}return{isValid:0===t.length,errors:t}}async generateSignals(e,t,r){try{let a=await k.A.post("/trading/signals/generate",{marketType:e,timeFrame:t,symbols:r});if(a.data.success)return a.data.data.signals;throw Error("Failed to generate signals")}catch(e){throw(0,w.nQ)(e,"Trading Service - Generate Signals")}}async getActiveSignals(e){try{let t=await k.A.get("/trading/signals/active",{params:e?{marketType:e}:{}});if(t.data.success)return t.data.data.signals;throw Error("Failed to fetch active signals")}catch(e){throw(0,w.nQ)(e,"Trading Service - Get Active Signals")}}calculateSLTP(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,s=r/100*e;return"BUY"===t?{stopLoss:e-s,takeProfit:e+s*a}:{stopLoss:e+s,takeProfit:e-s*a}}async getPerformanceMetrics(e,t){try{let r=await k.A.get("/trading/performance/metrics",{params:{marketType:e,timeRange:t}});if(r.data.success)return r.data.data.metrics;throw Error("Failed to fetch performance metrics")}catch(e){throw(0,w.nQ)(e,"Trading Service - Get Performance Metrics")}}async getMarketPerformance(){try{let e=await k.A.get("/trading/performance/markets");if(e.data.success)return e.data.data.markets;throw Error("Failed to fetch market performance")}catch(e){throw(0,w.nQ)(e,"Trading Service - Get Market Performance")}}calculateWinRate(e){if(0===e.length)return 0;let t=e.filter(e=>"EXECUTED"===e.status&&void 0!==e.actualPnL);return 0===t.length?0:t.filter(e=>(e.actualPnL||0)>0).length/t.length*100}calculateProfitFactor(e){let t=e.filter(e=>"EXECUTED"===e.status&&void 0!==e.actualPnL);if(0===t.length)return 0;let r=t.filter(e=>(e.actualPnL||0)>0).reduce((e,t)=>e+(t.actualPnL||0),0),a=Math.abs(t.filter(e=>0>(e.actualPnL||0)).reduce((e,t)=>e+(t.actualPnL||0),0));return 0===a?r>0?1/0:0:r/a}calculateMaxDrawdown(e){let t=e.filter(e=>"EXECUTED"===e.status&&void 0!==e.actualPnL).sort((e,t)=>new Date(e.executedAt||e.createdAt).getTime()-new Date(t.executedAt||t.createdAt).getTime());if(0===t.length)return 0;let r=0,a=0,s=0;for(let e of t){(s+=e.actualPnL||0)>r&&(r=s);let t=r-s;t>a&&(a=t)}return a}async executeSignalTrade(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,{stopLoss:s,takeProfit:i}=this.calculateSLTP(e.entryPrice,e.signalType,a),l={portfolioId:t,symbol:e.symbol,marketType:e.marketType,side:"BUY"===e.signalType?"BUY":"SELL",quantity:r,price:e.entryPrice,stopLoss:s,takeProfit:i,signalId:e.id,timeFrame:e.timeFrame,orderType:"MARKET"};return this.createTrade(l)}}let N=new j;var T=r(6892),A=r(6992);function S(){let{user:e}=(0,i.As)(),{selectedAccount:t,setSelectedAccount:r}=(0,A.u)(),[b,k]=(0,s.useState)("market"),[w,j]=(0,s.useState)("AAPL"),[S,C]=(0,s.useState)(""),[E,P]=(0,s.useState)("market"),[L,M]=(0,s.useState)("buy"),[q,F]=(0,s.useState)(""),[D,I]=(0,s.useState)(""),[R,U]=(0,s.useState)(!0),[Q,B]=(0,s.useState)(""),[O,V]=(0,s.useState)(!1),[z,G]=(0,s.useState)([{symbol:"AAPL",name:"Apple Inc.",price:175.8,change:2.45,changePercent:1.41,volume:0x2b90134,marketCap:28e11,high24h:177.2,low24h:173.5,sector:"Technology",type:"stock"},{symbol:"TSLA",name:"Tesla Inc.",price:245.3,change:-3.2,changePercent:-1.29,volume:0x1ef404c,marketCap:78e10,high24h:250.8,low24h:243.1,sector:"Automotive",type:"stock"},{symbol:"BTC",name:"Bitcoin",price:52e3,change:1200,changePercent:2.36,volume:28e9,marketCap:102e10,high24h:53500,low24h:50800,sector:"Cryptocurrency",type:"crypto"},{symbol:"ETH",name:"Ethereum",price:3200.5,change:85.3,changePercent:2.74,volume:15e9,marketCap:385e9,high24h:3250,low24h:3100,sector:"Cryptocurrency",type:"crypto"},{symbol:"EURUSD",name:"Euro/US Dollar",price:1.0875,change:.0025,changePercent:.23,volume:125e6,marketCap:0,high24h:1.089,low24h:1.085,sector:"Forex",type:"forex"}]),[_,H]=(0,s.useState)({bids:[{price:175.75,quantity:1500,total:263625},{price:175.7,quantity:2300,total:404110},{price:175.65,quantity:1800,total:316170},{price:175.6,quantity:2100,total:368760},{price:175.55,quantity:1200,total:210660}],asks:[{price:175.85,quantity:1200,total:211020},{price:175.9,quantity:1800,total:316620},{price:175.95,quantity:2200,total:387090},{price:176,quantity:1500,total:264e3},{price:176.05,quantity:1900,total:334495}]}),[W,Y]=(0,s.useState)([{id:"1",symbol:"AAPL",type:"buy",quantity:100,price:175.8,timestamp:"2024-03-15T10:30:00Z",status:"filled"},{id:"2",symbol:"TSLA",type:"sell",quantity:50,price:245.3,timestamp:"2024-03-15T10:25:00Z",status:"filled"},{id:"3",symbol:"BTC",type:"buy",quantity:.1,price:52e3,timestamp:"2024-03-15T10:20:00Z",status:"pending"}]),[K,X]=(0,s.useState)(["AAPL","TSLA","BTC"]);(0,s.useEffect)(()=>{let e=setTimeout(()=>U(!1),1e3);return()=>clearTimeout(e)},[]);let Z=z.find(e=>e.symbol===w),$=z.filter(e=>e.symbol.toLowerCase().includes(S.toLowerCase())||e.name.toLowerCase().includes(S.toLowerCase())),J=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)},ee=e=>e>=1e12?(e/1e12).toFixed(2)+"T":e>=1e9?(e/1e9).toFixed(2)+"B":e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":e.toLocaleString(),et=async()=>{var e;if(!w||!q||!Q||!t)return void f.oR.error("Please fill in all required fields including broker account");let r={portfolioId:Q,symbol:w,marketType:"STOCKS",side:L.toUpperCase(),quantity:parseFloat(q),price:"market"===E?0:parseFloat(D||"0"),orderType:E.toUpperCase(),brokerAccountId:null==t?void 0:t.id,brokerConnectionId:null==t||null==(e=t.brokerConnection)?void 0:e.id},a=N.validateTradeData(r);if(!a.isValid)return void a.errors.forEach(e=>f.oR.error(e));V(!0);try{await N.createTrade(r),F(""),I(""),B("")}catch(e){}finally{V(!1)}};return R?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Trading"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Trade stocks, crypto, forex, and commodities"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:(0,a.jsx)(l.A,{className:"h-5 w-5"})}),(0,a.jsx)("button",{className:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:(0,a.jsx)(o.A,{className:"h-5 w-5"})})]})]})})})}),(0,a.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(v(),{href:"/trading/pine-editor",className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Pine Editor"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Script strategies"})]})]}),(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]}),(0,a.jsxs)(v(),{href:"/trading/profit-targets",className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Profit Targets"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily goals"})]})]}),(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]}),(0,a.jsxs)(v(),{href:"/trading/market-updates",className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(g.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Market Updates"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Live data"})]})]}),(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]}),(0,a.jsxs)(v(),{href:"/trading/futures",className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Futures"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Contracts"})]})]}),(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)(v(),{href:"/trading/options",className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg hover:from-purple-100 hover:to-blue-100 dark:hover:from-purple-900/30 dark:hover:to-blue-900/30 transition-colors group border border-purple-200 dark:border-purple-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Options Trading"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Advanced strategies with Greeks calculation"})]})]}),(0,a.jsx)(c.A,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300"})]})})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{onClick:()=>k("market"),className:"flex-1 px-4 py-3 text-sm font-medium ".concat("market"===b?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:"Market"}),(0,a.jsx)("button",{onClick:()=>k("watchlist"),className:"flex-1 px-4 py-3 text-sm font-medium ".concat("watchlist"===b?"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:"Watchlist"})]}),(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(h.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search assets...",value:S,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:("market"===b?$:z.filter(e=>K.includes(e.symbol))).map(e=>(0,a.jsxs)("div",{onClick:()=>j(e.symbol),className:"p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 ".concat(w===e.symbol?"bg-blue-50 dark:bg-blue-900/20":""),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.symbol}),(0,a.jsx)("button",{onClick:t=>{var r,a;(t.stopPropagation(),K.includes(e.symbol))?(r=e.symbol,X(K.filter(e=>e!==r))):(a=e.symbol,K.includes(a)||X([...K,a]))},className:"p-1 rounded ".concat(K.includes(e.symbol)?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"),children:(0,a.jsx)(m.A,{className:"h-3 w-3 ".concat(K.includes(e.symbol)?"fill-current":"")})})]}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(e.change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[e.change>=0?"+":"",e.changePercent.toFixed(2),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.name}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:J(e.price,"forex"===e.type?4:2)})]})]},e.symbol))})]})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"xl:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[null==Z?void 0:Z.symbol," - ",null==Z?void 0:Z.name]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:Z&&J(Z.price,"forex"===Z.type?4:2)}),(0,a.jsxs)("span",{className:"flex items-center text-sm font-medium ".concat(Z&&Z.change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[Z&&Z.change>=0?(0,a.jsx)(u.A,{className:"h-4 w-4 mr-1"}):(0,a.jsx)(y.A,{className:"h-4 w-4 mr-1"}),Z&&J(Math.abs(Z.change),2)," (",Z&&Z.changePercent.toFixed(2),"%)"]})]})]}),(0,a.jsx)("div",{className:"flex space-x-1",children:["1D","1W","1M","3M","1Y"].map(e=>(0,a.jsx)("button",{className:"px-3 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:e},e))})]}),(0,a.jsx)("div",{className:"h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(p.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Interactive chart would go here"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:"Real-time price data and technical indicators"})]})}),Z&&(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"24h High"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:J(Z.high24h,"forex"===Z.type?4:2)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"24h Low"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:J(Z.low24h,"forex"===Z.type?4:2)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Volume"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:ee(Z.volume)})]}),Z.marketCap>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Market Cap"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900 dark:text-white",children:ee(Z.marketCap)})]})]})]})}),(0,a.jsx)("div",{className:"xl:col-span-1",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Place Order"}),(0,a.jsx)("div",{className:"flex space-x-1 mb-4",children:["market","limit","stop"].map(e=>(0,a.jsx)("button",{onClick:()=>P(e),className:"flex-1 py-2 px-3 text-sm font-medium rounded ".concat(E===e?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,a.jsxs)("div",{className:"flex space-x-1 mb-4",children:[(0,a.jsx)("button",{onClick:()=>M("buy"),className:"flex-1 py-2 px-3 font-medium rounded ".concat("buy"===L?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"Buy"}),(0,a.jsx)("button",{onClick:()=>M("sell"),className:"flex-1 py-2 px-3 font-medium rounded ".concat("sell"===L?"bg-red-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"Sell"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Broker Account"}),(0,a.jsx)(T.A,{selectedAccount:t,onAccountSelect:r,placeholder:"Select a broker account for trading"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Portfolio"}),(0,a.jsxs)("select",{value:Q,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"",children:"Select portfolio"}),(0,a.jsx)("option",{value:"portfolio-1",children:"Main Portfolio"}),(0,a.jsx)("option",{value:"portfolio-2",children:"Growth Portfolio"}),(0,a.jsx)("option",{value:"portfolio-3",children:"Conservative Portfolio"})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quantity"}),(0,a.jsx)("input",{type:"number",value:q,onChange:e=>F(e.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),"market"!==E&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price"}),(0,a.jsx)("input",{type:"number",value:D,onChange:e=>I(e.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsx)("div",{className:"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Estimated Total:"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:q&&Z?J(parseFloat(q)*("market"===E?Z.price:parseFloat(D||"0"))):"$0.00"})]})}),(0,a.jsx)("button",{onClick:et,disabled:!q||!Q||!t||"market"!==E&&!D||O,className:"w-full py-3 px-4 rounded-lg font-medium transition-colors ".concat("buy"===L?"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white":"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white"),children:O?"Placing Order...":"".concat("buy"===L?"Buy":"Sell"," ").concat(w)})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Book"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2",children:"Asks"}),(0,a.jsx)("div",{className:"space-y-1",children:_.asks.slice().reverse().map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-red-600 dark:text-red-400",children:J(e.price,2)}),(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.quantity})]},t))})]}),(0,a.jsx)("div",{className:"py-2 border-y border-gray-200 dark:border-gray-700 mb-4",children:(0,a.jsxs)("div",{className:"text-center text-sm font-medium text-gray-900 dark:text-white",children:["Spread: ",J(_.asks[0].price-_.bids[0].price,2)]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-green-600 dark:text-green-400 mb-2",children:"Bids"}),(0,a.jsx)("div",{className:"space-y-1",children:_.bids.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-green-600 dark:text-green-400",children:J(e.price,2)}),(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.quantity})]},t))})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Trades"}),(0,a.jsx)("div",{className:"space-y-3",children:W.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full ".concat("buy"===e.type?"bg-green-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.symbol}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("filled"===e.status?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400":"pending"===e.status?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400"),children:e.status})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:J(e.price,2)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.quantity," shares"]})]})]},e.id))})]})]})})]})})]})})]})}},2987:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5748:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(2115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))})},5870:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6059:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(2115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...i}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},6651:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7013:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},7840:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]])},9347:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},9559:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},9602:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])}},e=>{e.O(0,[2663,5125,6139,8956,8441,1255,7358],()=>e(e.s=974)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{17:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var a=r(5155),s=r(2115),o=r(2619),l=r.n(o),i=r(63),n=r(5380),c=r(1398),d=r(1524),u=r(3664),h=r(9708),m=r(532),g=r(7828);function y(){let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)(""),[y,p]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),{login:b}=(0,n.As)(),{handleError:v}=(0,c.ux)(),w=(0,i.useRouter)(),k=async t=>{t.preventDefault(),f(!0);try{await b(e,r),w.push("/dashboard")}catch(e){v(e,"Login attempt failed")}finally{f(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-2 mb-4",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-3 rounded-xl",children:(0,a.jsx)(d.A,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"KAIRO"})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Welcome back"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Sign in to your account to continue trading"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 py-8 px-6 shadow-xl rounded-2xl border border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("form",{className:"space-y-6",onSubmit:k,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(u.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your email"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{id:"password",name:"password",type:y?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:e=>o(e.target.value),className:"block w-full pl-10 pr-10 py-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors",placeholder:"Enter your password"}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!y),children:y?(0,a.jsx)(m.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"}):(0,a.jsx)(g.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded"}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)(l(),{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Forgot your password?"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02]",children:x?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",(0,a.jsx)(l(),{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:"Sign up now"})]})})]}),(0,a.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2",children:"Demo Credentials"}),(0,a.jsxs)("div",{className:"text-xs text-blue-600 dark:text-blue-300 space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Email:"})," demo@kairo.com"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Password:"})," demo123"]})]})]})]})})}},63:(e,t,r)=>{"use strict";var a=r(7260);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},532:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},1398:(e,t,r)=>{"use strict";r.d(t,{co:()=>c,nQ:()=>d,r_:()=>n,ux:()=>m});var a=r(2663),s=function(e){return e.VALIDATION="validation",e.NETWORK="network",e.AUTHENTICATION="authentication",e.TRADING="trading",e.COMPILATION="compilation",e.SYSTEM="system",e.USER_INPUT="user_input",e}({}),o=function(e){return e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical",e}({});let l={validation:{showToast:!0,logToConsole:!1,logToService:!1,retryable:!1},network:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!0},authentication:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!1},trading:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!0},compilation:{showToast:!1,logToConsole:!0,logToService:!1,retryable:!1},system:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!1},user_input:{showToast:!0,logToConsole:!1,logToService:!1,retryable:!1}};class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}handle(e,t,r){let a=this.normalizeError(e,t),s={...l[a.type],...r};return this.addToQueue(a),s.showToast&&this.showToast(a),s.logToConsole&&this.logToConsole(a),s.logToService&&this.logToService(a),a}normalizeError(e,t){return"string"==typeof e?{type:"system",severity:"medium",message:e,timestamp:new Date,context:t}:e instanceof Error?{type:this.inferErrorType(e),severity:this.inferSeverity(e),message:e.message,details:{name:e.name,stack:e.stack},timestamp:new Date,context:t}:{...e,context:t||e.context}}inferErrorType(e){let t=e.message.toLowerCase(),r=e.name.toLowerCase();return t.includes("validation")||t.includes("required")||t.includes("invalid")?"validation":t.includes("network")||t.includes("fetch")||r.includes("network")?"network":t.includes("auth")||t.includes("token")||t.includes("unauthorized")?"authentication":t.includes("trade")||t.includes("order")||t.includes("position")?"trading":t.includes("compile")||t.includes("syntax")||t.includes("parse")?"compilation":"system"}inferSeverity(e){let t=e.message.toLowerCase();return t.includes("critical")||t.includes("fatal")?"critical":t.includes("failed")||t.includes("error")?"high":t.includes("warning")||t.includes("deprecated")?"medium":"low"}showToast(e){let t=this.formatUserMessage(e);switch(e.severity){case"critical":a.oR.error(t,{duration:8e3});break;case"high":a.oR.error(t,{duration:6e3});break;case"medium":(0,a.oR)(t,{icon:"⚠️",duration:4e3});break;case"low":(0,a.oR)(t,{icon:"ℹ️",duration:3e3})}}formatUserMessage(e){switch(e.type){case"validation":return e.message;case"network":return"Network error. Please check your connection and try again.";case"authentication":return"Authentication failed. Please log in again.";case"trading":return"Trading error: ".concat(e.message);case"compilation":return"Compilation error: ".concat(e.message);default:return"An unexpected error occurred. Please try again."}}logToConsole(e){("critical"===e.severity||"high"===e.severity?console.error:console.warn)("[".concat(e.type.toUpperCase(),"] ").concat(e.message),{severity:e.severity,timestamp:e.timestamp,context:e.context,details:e.details})}logToService(e){console.log("Would log to external service:",e)}addToQueue(e){this.errorQueue.push(e),this.errorQueue.length>this.maxQueueSize&&this.errorQueue.shift()}getRecentErrors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.errorQueue.slice(-e)}clearErrors(){this.errorQueue=[]}getErrorStats(){let e={total:this.errorQueue.length,byType:{},bySeverity:{}};return Object.values(s).forEach(t=>{e.byType[t]=0}),Object.values(o).forEach(t=>{e.bySeverity[t]=0}),this.errorQueue.forEach(t=>{e.byType[t.type]++,e.bySeverity[t.severity]++}),e}constructor(){this.errorQueue=[],this.maxQueueSize=100}}let n=i.getInstance(),c=(e,t)=>n.handle({type:"validation",severity:"medium",message:e,timestamp:new Date},t),d=(e,t)=>n.handle(e,t,{showToast:!0,logToConsole:!0,logToService:!0}),u=(e,t,r)=>n.handle({type:"trading",severity:"high",message:e,details:t,timestamp:new Date},r),h=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";return n.handle({type:"compilation",severity:"error"===r?"high":"medium",message:"Line ".concat(e,": ").concat(t),details:{line:e,type:r},timestamp:new Date},"Pine Script Compilation")},m=()=>({handleError:(e,t)=>n.handle(e,t),handleValidationError:c,handleNetworkError:d,handleTradingError:u,handleCompilationError:h,getRecentErrors:()=>n.getRecentErrors(),getErrorStats:()=>n.getErrorStats(),clearErrors:()=>n.clearErrors()})},1524:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},2662:(e,t,r)=>{Promise.resolve().then(r.bind(r,17))},3664:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5380:(e,t,r)=>{"use strict";r.d(t,{As:()=>c,OJ:()=>n});var a=r(5155),s=r(2115),o=r(5125),l=r(2663);let i=(0,s.createContext)(void 0);o.A.defaults.baseURL="".concat("http://localhost:3001","/api"),o.A.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.A.interceptors.response.use(e=>e,async e=>{var t;let r=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!r._retry){r._retry=!0;try{let e=localStorage.getItem("refreshToken");if(e){let{token:t}=(await o.A.post("/auth/refresh",{refreshToken:e})).data.data;return localStorage.setItem("token",t),r.headers.Authorization="Bearer ".concat(t),(0,o.A)(r)}}catch(e){localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login"}}return Promise.reject(e)});let n=e=>{let{children:t}=e,[r,n]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{if(localStorage.getItem("token"))try{let e=await o.A.get("/auth/me");n(e.data.data.user)}catch(e){localStorage.removeItem("token"),localStorage.removeItem("refreshToken")}d(!1)})()},[]);let u=async(e,t)=>{try{let{user:r,accessToken:a,refreshToken:s}=(await o.A.post("/auth/login",{email:e,password:t})).data.data;localStorage.setItem("token",a),localStorage.setItem("refreshToken",s),n(r),l.oR.success("Login successful!")}catch(t){var r,a;let e=(null==(a=t.response)||null==(r=a.data)?void 0:r.message)||"Login failed";throw l.oR.error(e),t}},h=async e=>{try{let{user:t,accessToken:r,refreshToken:a}=(await o.A.post("/auth/register",e)).data.data;localStorage.setItem("token",r),localStorage.setItem("refreshToken",a),n(t),l.oR.success("Registration successful!")}catch(a){var t,r;let e=(null==(r=a.response)||null==(t=r.data)?void 0:t.message)||"Registration failed";throw l.oR.error(e),a}},m=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),n(null),l.oR.success("Logged out successfully")},g=async e=>{try{let t=await o.A.put("/auth/profile",e);n(t.data.data.user),l.oR.success("Profile updated successfully!")}catch(a){var t,r;let e=(null==(r=a.response)||null==(t=r.data)?void 0:t.message)||"Profile update failed";throw l.oR.error(e),a}},y=async()=>{try{let e=localStorage.getItem("refreshToken");if(!e)throw Error("No refresh token");let{token:t}=(await o.A.post("/auth/refresh",{refreshToken:e})).data.data;localStorage.setItem("token",t)}catch(e){throw m(),e}};return(0,a.jsx)(i.Provider,{value:{user:r,loading:c,login:u,register:h,logout:m,updateProfile:g,refreshToken:y},children:t})},c=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7828:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9708:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(5105).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[2663,5125,6139,8441,1255,7358],()=>e(e.s=2662)),_N_E=e.O()}]);
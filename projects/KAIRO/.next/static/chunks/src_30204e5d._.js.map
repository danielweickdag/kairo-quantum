{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport function formatCurrency(amount: number): string {\n  if (typeof amount !== 'number' || isNaN(amount)) return '$0.00'\n  try {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    }).format(amount)\n  } catch (error) {\n    return '$0.00'\n  }\n}\n\nexport function formatPercent(value: number): string {\n  if (typeof value !== 'number' || isNaN(value)) return '0.00%'\n  try {\n    return `${value >= 0 ? '+' : ''}${value.toFixed(2)}%`\n  } catch (error) {\n    return '0.00%'\n  }\n}\n\nexport function formatNumber(value: number): string {\n  if (typeof value !== 'number' || isNaN(value)) return '0'\n  try {\n    return new Intl.NumberFormat('en-US').format(value)\n  } catch (error) {\n    return '0'\n  }\n}"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEO,SAAS,eAAe,MAAc;IAC3C,IAAI,OAAO,WAAW,YAAY,MAAM,SAAS,OAAO;IACxD,IAAI;QACF,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;YACpC,OAAO;YACP,UAAU;QACZ,GAAG,MAAM,CAAC;IACZ,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAEO,SAAS,cAAc,KAAa;IACzC,IAAI,OAAO,UAAU,YAAY,MAAM,QAAQ,OAAO;IACtD,IAAI;QACF,OAAO,AAAC,GAA0B,OAAxB,SAAS,IAAI,MAAM,IAAsB,OAAjB,MAAM,OAAO,CAAC,IAAG;IACrD,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAEO,SAAS,aAAa,KAAa;IACxC,IAAI,OAAO,UAAU,YAAY,MAAM,QAAQ,OAAO;IACtD,IAAI;QACF,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;IAC/C,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }"],"names":[],"mappings":";;;;;;;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,KAA4C;QAA5C,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB,GAA5C;IACb,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 107, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/components/ui/DemoModeIndicator.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { Badge } from '@/components/ui/badge'\nimport { AlertTriangle, Play } from 'lucide-react'\nimport { useTradingMode } from '@/contexts/TradingModeContext'\nimport { cn } from '@/lib/utils'\n\ninterface DemoModeIndicatorProps {\n  className?: string\n  variant?: 'badge' | 'banner'\n}\n\nexport function DemoModeIndicator({ className, variant = 'badge' }: DemoModeIndicatorProps) {\n  const { isPaperTrading, tradingMode } = useTradingMode()\n\n  if (!isPaperTrading) {\n    return null\n  }\n\n  if (variant === 'banner') {\n    return (\n      <div className={cn(\n        'bg-orange-100 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3 mb-4',\n        className\n      )}>\n        <div className=\"flex items-center gap-2\">\n          <Play className=\"h-4 w-4 text-orange-600 dark:text-orange-400\" />\n          <span className=\"text-sm font-medium text-orange-800 dark:text-orange-200\">\n            Demo Mode Active\n          </span>\n          <span className=\"text-xs text-orange-600 dark:text-orange-400\">\n            • All trades are simulated • No real money involved\n          </span>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <Badge \n      variant=\"outline\" \n      className={cn(\n        'bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800 text-orange-700 dark:text-orange-300 font-medium',\n        className\n      )}\n    >\n      <Play className=\"h-3 w-3 mr-1\" />\n      Demo Mode\n    </Badge>\n  )\n}\n\nexport default DemoModeIndicator"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;;;AANA;;;;;AAaO,SAAS,kBAAkB,KAAwD;QAAxD,EAAE,SAAS,EAAE,UAAU,OAAO,EAA0B,GAAxD;;IAChC,MAAM,EAAE,cAAc,EAAE,WAAW,EAAE,GAAG,IAAA,2JAAc;IAEtD,IAAI,CAAC,gBAAgB;QACnB,OAAO;IACT;IAEA,IAAI,YAAY,UAAU;QACxB,qBACE,6LAAC;YAAI,WAAW,IAAA,4HAAE,EAChB,2GACA;sBAEA,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6MAAI;wBAAC,WAAU;;;;;;kCAChB,6LAAC;wBAAK,WAAU;kCAA2D;;;;;;kCAG3E,6LAAC;wBAAK,WAAU;kCAA+C;;;;;;;;;;;;;;;;;IAMvE;IAEA,qBACE,6LAAC,6IAAK;QACJ,SAAQ;QACR,WAAW,IAAA,4HAAE,EACX,gIACA;;0BAGF,6LAAC,6MAAI;gBAAC,WAAU;;;;;;YAAiB;;;;;;;AAIvC;GAtCgB;;QAC0B,2JAAc;;;KADxC;uCAwCD","debugId":null}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/components/Navigation.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { useTradingMode } from '@/contexts/TradingModeContext';\nimport DemoModeIndicator from '@/components/ui/DemoModeIndicator';\nimport { toast } from 'react-hot-toast';\nimport {\n  Menu,\n  X,\n  Home,\n  TrendingUp,\n  BarChart3,\n  Users,\n  Copy,\n  Bell,\n  Settings,\n  LogOut,\n  Sun,\n  Moon,\n  User,\n  ChevronDown,\n  Search,\n  Wallet,\n  Activity,\n  Shield,\n  HelpCircle,\n  Zap,\n  Radio,\n  CreditCard,\n  Crown,\n  Award,\n  Bot,\n  Link\n} from 'lucide-react';\n\ninterface NavigationItem {\n  name: string;\n  href: string;\n  icon: any;\n  badge?: number;\n  description?: string;\n}\n\nconst navigationItems: NavigationItem[] = [\n  {\n    name: 'Dashboard',\n    href: '/dashboard',\n    icon: Home,\n    description: 'Overview and portfolio summary'\n  },\n  {\n    name: 'User Dashboard',\n    href: '/user-dashboard',\n    icon: User,\n    description: 'Personal account and subscription management'\n  },\n  {\n    name: 'Trading',\n    href: '/trading',\n    icon: TrendingUp,\n    description: 'Execute trades and view market data'\n  },\n  {\n    name: 'Live Trading',\n    href: '/trading/live',\n    icon: Radio,\n    description: 'Real-time trading dashboard'\n  },\n  {\n    name: 'Futures Trading',\n    href: '/trading/futures',\n    icon: TrendingUp,\n    description: 'Futures contracts trading'\n  },\n  {\n    name: 'Options Trading',\n    href: '/trading/options',\n    icon: BarChart3,\n    description: 'Options contracts trading'\n  },\n  {\n    name: 'Market Updates',\n    href: '/trading/market-updates',\n    icon: Bell,\n    description: 'Real-time market news and updates'\n  },\n  {\n    name: 'Pine Editor',\n    href: '/trading/pine-editor',\n    icon: Settings,\n    description: 'Pine Script editor for custom indicators'\n  },\n  {\n    name: 'Profit Targets',\n    href: '/trading/profit-targets',\n    icon: Award,\n    description: 'Set and manage profit targets'\n  },\n  {\n    name: 'Portfolio',\n    href: '/portfolio',\n    icon: BarChart3,\n    description: 'Manage your investments'\n  },\n  {\n    name: 'Copy Trade',\n    href: '/copy-trade',\n    icon: Copy,\n    description: 'Follow and copy successful traders'\n  },\n  {\n    name: 'Creators',\n    href: '/creators',\n    icon: Award,\n    description: 'Discover top trading creators and investors'\n  },\n  {\n    name: 'Social',\n    href: '/social',\n    icon: Users,\n    badge: 3,\n    description: 'Connect with the trading community'\n  },\n  {\n    name: 'Pricing',\n    href: '/pricing',\n    icon: Crown,\n    description: 'View subscription plans and pricing'\n  },\n  {\n    name: 'Payment',\n    href: '/payment',\n    icon: CreditCard,\n    description: 'Manage payment methods and billing'\n  },\n  {\n    name: 'Security',\n    href: '/security',\n    icon: Shield,\n    description: 'Security settings and compliance'\n  },\n  {\n    name: 'Automation',\n    href: '/automation',\n    icon: Bot,\n    description: 'Automated trading and system management'\n  },\n  {\n    name: 'Trading Bot',\n    href: '/automation/trading-bot',\n    icon: Bot,\n    description: 'Configure and manage trading bots'\n  },\n  {\n    name: 'Copy Trading Auto',\n    href: '/automation/copy-trading',\n    icon: Copy,\n    description: 'Automated copy trading settings'\n  },\n  {\n    name: 'Risk Management',\n    href: '/automation/risk-management',\n    icon: Shield,\n    description: 'Automated risk management rules'\n  },\n  {\n    name: 'Data Pipeline',\n    href: '/automation/data-pipeline',\n    icon: Activity,\n    description: 'Automated data processing and analysis'\n  },\n  {\n    name: 'Auto Notifications',\n    href: '/automation/notifications',\n    icon: Bell,\n    description: 'Automated notification settings'\n  },\n  {\n    name: 'Auto Payments',\n    href: '/automation/payments',\n    icon: CreditCard,\n    description: 'Automated payment processing'\n  },\n  {\n    name: 'Auto Reporting',\n    href: '/automation/reporting',\n    icon: BarChart3,\n    description: 'Automated report generation'\n  },\n  {\n    name: 'Auto Onboarding',\n    href: '/automation/onboarding',\n    icon: User,\n    description: 'Automated user onboarding process'\n  },\n  {\n    name: 'Brokers',\n    href: '/brokers',\n    icon: Link,\n    description: 'Connect and manage broker accounts'\n  },\n  {\n    name: 'Demo',\n    href: '/demo',\n    icon: Activity,\n    description: 'Practice trading with demo account'\n  },\n  {\n    name: 'Settings',\n    href: '/settings',\n    icon: Settings,\n    description: 'Application settings and preferences'\n  },\n  {\n    name: 'Profile',\n    href: '/profile',\n    icon: User,\n    description: 'Manage your profile and account details'\n  },\n  {\n    name: 'Help',\n    href: '/help',\n    icon: HelpCircle,\n    description: 'Get help and support'\n  }\n];\n\nexport default function Navigation() {\n  const { user, logout } = useAuth();\n  const { theme, setTheme } = useTheme();\n  const { isPaperTrading } = useTradingMode();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false);\n  const [mounted, setMounted] = useState(false);\n  const [focusedItemIndex, setFocusedItemIndex] = useState(-1);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      router.push('/login');\n      toast.success('Logged out successfully');\n    } catch (error) {\n      toast.error('Failed to logout. Please try again.');\n    }\n  };\n\n  const toggleTheme = () => {\n    setTheme(theme === 'dark' ? 'light' : 'dark');\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent, action: () => void) => {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      action();\n    }\n  };\n\n  const handleNavigationKeyDown = (event: React.KeyboardEvent) => {\n    if (event.key === 'ArrowDown') {\n      event.preventDefault();\n      setFocusedItemIndex(prev => (prev + 1) % navigationItems.length);\n    } else if (event.key === 'ArrowUp') {\n      event.preventDefault();\n      setFocusedItemIndex(prev => prev <= 0 ? navigationItems.length - 1 : prev - 1);\n    } else if (event.key === 'Enter' && focusedItemIndex >= 0) {\n      event.preventDefault();\n      router.push(navigationItems[focusedItemIndex].href);\n    } else if (event.key === 'Escape') {\n      setIsProfileMenuOpen(false);\n      setIsMobileMenuOpen(false);\n    }\n  };\n\n  const isActive = (href: string) => {\n    return pathname === href;\n  };\n\n  if (!mounted) {\n    return null;\n  }\n\n  return (\n    <>\n      {/* Desktop Navigation */}\n      <nav className=\"hidden lg:flex lg:flex-col lg:w-64 lg:fixed lg:inset-y-0 lg:border-r lg:border-gray-200 lg:dark:border-gray-700 lg:bg-white lg:dark:bg-gray-800 lg:shadow-sm\">\n        {/* Logo */}\n        <div className=\"flex items-center justify-center h-16 px-6 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"flex flex-col items-center space-y-1\">\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"h-8 w-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center\">\n                <Zap className=\"h-5 w-5 text-white\" />\n              </div>\n              <span className=\"text-xl font-bold text-gray-900 dark:text-white\">KAIRO</span>\n            </div>\n            {isPaperTrading && <DemoModeIndicator className=\"text-xs\" />}\n          </div>\n        </div>\n\n        {/* Simplified Navigation - Only Logo Area */}\n        <div className=\"flex-1 flex items-center justify-center px-4 py-6\">\n          <div className=\"text-center text-gray-500 dark:text-gray-400\">\n            <p className=\"text-sm\">Navigation Menu</p>\n            <p className=\"text-xs mt-1\">Available in Profile</p>\n          </div>\n        </div>\n\n        {/* User Profile Section */}\n        <div className=\"border-t border-gray-200 dark:border-gray-700 p-4\">\n          <div className=\"relative\">\n            <button\n              onClick={() => setIsProfileMenuOpen(!isProfileMenuOpen)}\n              className=\"w-full flex items-center space-x-3 p-3 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              aria-expanded={isProfileMenuOpen}\n              aria-haspopup=\"menu\"\n              aria-label=\"User profile menu\"\n            >\n              <div className=\"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center\">\n                <span className=\"text-white font-semibold text-sm\">\n                  {user ? `${user.firstName?.[0] || ''}${user.lastName?.[0] || ''}` || 'U' : 'U'}\n                </span>\n              </div>\n              <div className=\"flex-1 text-left\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                  {user ? `${user.firstName || ''} ${user.lastName || ''}`.trim() || 'User' : 'User'}\n                </p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  {user?.email || 'user@example.com'}\n                </p>\n              </div>\n              <ChevronDown className={`h-4 w-4 text-gray-400 transition-transform ${\n                isProfileMenuOpen ? 'rotate-180' : ''\n              }`} />\n            </button>\n\n            {/* Profile Dropdown with Navigation Menu */}\n            {isProfileMenuOpen && (\n              <div \n                className=\"absolute bottom-full left-0 right-0 mb-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 py-2 max-h-96 overflow-y-auto\"\n                role=\"menu\"\n                aria-label=\"User profile and navigation menu\"\n              >\n                {/* Navigation Items */}\n                <div className=\"px-2 py-2\">\n                  <p className=\"px-2 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Navigation</p>\n                  <div onKeyDown={handleNavigationKeyDown}>\n                    {navigationItems.map((item, index) => {\n                      const active = isActive(item.href);\n                      const isFocused = focusedItemIndex === index;\n                      return (\n                        <button\n                          key={item.href}\n                          onClick={() => {\n                            router.push(item.href);\n                            setIsProfileMenuOpen(false);\n                          }}\n                          onKeyDown={(e) => handleKeyDown(e, () => {\n                            router.push(item.href);\n                            setIsProfileMenuOpen(false);\n                          })}\n                          className={`w-full flex items-center space-x-3 px-3 py-2 mb-1 rounded-lg transition-all duration-200 group text-sm ${\n                            active\n                              ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-sm'\n                              : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white'\n                          } ${\n                            isFocused ? 'ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-800' : ''\n                          }`}\n                          aria-current={active ? 'page' : undefined}\n                          title={item.description}\n                        >\n                          <item.icon className={`h-4 w-4 transition-colors ${\n                            active ? 'text-white' : 'text-gray-500 dark:text-gray-400 group-hover:text-gray-700 dark:group-hover:text-gray-300'\n                          }`} aria-hidden=\"true\" />\n                          <span className=\"flex-1 text-left\">{item.name}</span>\n                          {item.badge && (\n                            <span className={`ml-2 inline-flex items-center justify-center px-1.5 py-0.5 text-xs font-bold rounded-full ${\n                              active \n                                ? 'bg-white/20 text-white' \n                                : 'bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400'\n                            }`} aria-label={`${item.badge} notifications`}>\n                              {item.badge}\n                            </span>\n                          )}\n                        </button>\n                      );\n                    })}\n                  </div>\n                </div>\n                \n                {/* Profile Actions */}\n                <div className=\"border-t border-gray-200 dark:border-gray-700 mt-2 pt-2\">\n                  <p className=\"px-4 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider\">Account</p>\n                  <button\n                    onClick={() => {\n                      router.push('/profile');\n                      setIsProfileMenuOpen(false);\n                    }}\n                    className=\"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                    role=\"menuitem\"\n                    aria-label=\"Go to profile page\"\n                  >\n                    <User className=\"h-4 w-4\" aria-hidden=\"true\" />\n                    <span>Profile</span>\n                  </button>\n                  <button\n                    onClick={() => {\n                      router.push('/settings');\n                      setIsProfileMenuOpen(false);\n                    }}\n                    className=\"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                  >\n                    <Settings className=\"h-4 w-4\" />\n                    <span>Settings</span>\n                  </button>\n                  <button\n                    onClick={toggleTheme}\n                    className=\"w-full flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\n                  >\n                    {theme === 'dark' ? <Sun className=\"h-4 w-4\" /> : <Moon className=\"h-4 w-4\" />}\n                    <span>{theme === 'dark' ? 'Light Mode' : 'Dark Mode'}</span>\n                  </button>\n                  <div className=\"border-t border-gray-200 dark:border-gray-700 my-2\"></div>\n                  <button\n                    onClick={handleLogout}\n                    className=\"w-full flex items-center space-x-3 px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20\"\n                  >\n                    <LogOut className=\"h-4 w-4\" />\n                    <span>Sign Out</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </nav>\n\n      {/* Mobile Navigation */}\n      <div className=\"lg:hidden\">\n        {/* Mobile Header */}\n        <div className=\"flex items-center justify-between h-16 px-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"h-8 w-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center\" role=\"img\" aria-label=\"KAIRO logo\">\n                <Zap className=\"h-5 w-5 text-white\" aria-hidden=\"true\" />\n              </div>\n              <span className=\"text-xl font-bold text-gray-900 dark:text-white\">KAIRO</span>\n            </div>\n            {isPaperTrading && <DemoModeIndicator className=\"text-xs\" />}\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={toggleTheme}\n              className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\n              aria-label={`Switch to ${theme === 'dark' ? 'light' : 'dark'} mode`}\n              title={`Switch to ${theme === 'dark' ? 'light' : 'dark'} mode`}\n            >\n              {theme === 'dark' ? <Sun className=\"h-5 w-5\" aria-hidden=\"true\" /> : <Moon className=\"h-5 w-5\" aria-hidden=\"true\" />}\n            </button>\n            <button \n              className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors relative\"\n              aria-label=\"Notifications\"\n              title=\"View notifications\"\n            >\n              <Bell className=\"h-5 w-5\" />\n              <span className=\"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full\"></span>\n            </button>\n          </div>\n        </div>\n\n        {/* Mobile Menu Overlay */}\n        {isMobileMenuOpen && (\n          <div className=\"fixed inset-0 z-50 lg:hidden\">\n            <div className=\"fixed inset-0 bg-black bg-opacity-25\" onClick={() => setIsMobileMenuOpen(false)}></div>\n            <div className=\"fixed top-0 right-0 bottom-0 w-full max-w-sm bg-white dark:bg-gray-800 shadow-xl\">\n              {/* Mobile Menu Header */}\n              <div className=\"flex items-center justify-between h-16 px-4 border-b border-gray-200 dark:border-gray-700\">\n                <div className=\"flex items-center space-x-3\">\n                  <div className=\"h-10 w-10 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full flex items-center justify-center\">\n                    <span className=\"text-white font-semibold text-sm\">\n                      {user ? `${user.firstName?.[0] || ''}${user.lastName?.[0] || ''}` || 'U' : 'U'}\n                    </span>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                      {user ? `${user.firstName || ''} ${user.lastName || ''}`.trim() || 'User' : 'User'}\n                    </p>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                      {user?.email || 'user@example.com'}\n                    </p>\n                  </div>\n                </div>\n                <button\n                  onClick={() => setIsMobileMenuOpen(false)}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors\"\n                >\n                  <X className=\"h-6 w-6\" />\n                </button>\n              </div>\n\n              {/* Mobile Navigation Items */}\n              <div className=\"px-4 py-6 space-y-2\" onKeyDown={handleNavigationKeyDown} role=\"navigation\" aria-label=\"Mobile navigation menu\">\n                {navigationItems.map((item, index) => {\n                  const Icon = item.icon;\n                  const active = isActive(item.href);\n                  const isFocused = focusedItemIndex === index;\n                  \n                  return (\n                    <button\n                      key={item.name}\n                      onClick={() => {\n                        router.push(item.href);\n                        setIsMobileMenuOpen(false);\n                      }}\n                      onKeyDown={(e) => handleKeyDown(e, () => {\n                        router.push(item.href);\n                        setIsMobileMenuOpen(false);\n                      })}\n                      className={`w-full group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${\n                        active\n                          ? 'bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg'\n                          : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\n                      } ${\n                        isFocused ? 'ring-2 ring-blue-500 ring-offset-2 dark:ring-offset-gray-800' : ''\n                      }`}\n                      aria-current={active ? 'page' : undefined}\n                      aria-describedby={item.description ? `${item.href}-mobile-desc` : undefined}\n                      title={item.description}\n                    >\n                      <Icon className={`mr-3 h-5 w-5 ${\n                        active ? 'text-white' : 'text-gray-400'\n                      }`} aria-hidden=\"true\" />\n                      <div className=\"flex-1 text-left\">\n                        <div className=\"font-medium\">{item.name}</div>\n                        {item.description && (\n                          <div className={`text-xs mt-1 ${\n                            active ? 'text-white/80' : 'text-gray-500 dark:text-gray-400'\n                          }`} id={`${item.href}-mobile-desc`}>\n                            {item.description}\n                          </div>\n                        )}\n                      </div>\n                      {item.badge && (\n                        <span className={`ml-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold rounded-full ${\n                          active \n                            ? 'bg-white/20 text-white' \n                            : 'bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400'\n                        }`} aria-label={`${item.badge} notifications`}>\n                          {item.badge}\n                        </span>\n                      )}\n                    </button>\n                  );\n                })}\n              </div>\n\n              {/* Mobile Menu Footer */}\n              <div className=\"border-t border-gray-200 dark:border-gray-700 px-4 py-4 space-y-2\">\n                <button\n                  onClick={() => {\n                    router.push('/profile');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"w-full flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors\"\n                >\n                  <User className=\"h-5 w-5 text-gray-400\" />\n                  <span>Profile</span>\n                </button>\n                <button\n                  onClick={() => {\n                    router.push('/settings');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"w-full flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors\"\n                >\n                  <Settings className=\"h-5 w-5 text-gray-400\" />\n                  <span>Settings</span>\n                </button>\n                <button\n                  onClick={() => {\n                    router.push('/help');\n                    setIsMobileMenuOpen(false);\n                  }}\n                  className=\"w-full flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-xl transition-colors\"\n                >\n                  <HelpCircle className=\"h-5 w-5 text-gray-400\" />\n                  <span>Help & Support</span>\n                </button>\n                <button\n                  onClick={handleLogout}\n                  className=\"w-full flex items-center space-x-3 px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors\"\n                >\n                  <LogOut className=\"h-5 w-5\" />\n                  <span>Sign Out</span>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Mobile Bottom Navigation */}\n      <div className=\"lg:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 shadow-lg\">\n        <div className=\"grid grid-cols-5 h-16\">\n          {/* Show only the 5 most important navigation items in bottom bar */}\n          {navigationItems.slice(0, 5).map((item) => {\n            const Icon = item.icon;\n            const active = isActive(item.href);\n            \n            return (\n              <button\n                key={item.name}\n                onClick={() => router.push(item.href)}\n                className={`flex flex-col items-center justify-center space-y-1 transition-colors ${\n                  active\n                    ? 'text-blue-600 dark:text-blue-400'\n                    : 'text-gray-400 hover:text-gray-600 dark:hover:text-gray-300'\n                }`}\n              >\n                <div className=\"relative\">\n                  <Icon className=\"h-5 w-5\" />\n                  {item.badge && (\n                    <span className=\"absolute -top-2 -right-2 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center\">\n                      {item.badge}\n                    </span>\n                  )}\n                </div>\n                <span className=\"text-xs font-medium truncate\">{item.name}</span>\n              </button>\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AATA;;;;;;;;;AA8CA,MAAM,kBAAoC;IACxC;QACE,MAAM;QACN,MAAM;QACN,MAAM,6MAAI;QACV,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6MAAI;QACV,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mOAAU;QAChB,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,gNAAK;QACX,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mOAAU;QAChB,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,oOAAS;QACf,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6MAAI;QACV,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,yNAAQ;QACd,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,gNAAK;QACX,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,oOAAS;QACf,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,6MAAI;QACV,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,gNAAK;QACX,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,gNAAK;QACX,OAAO;QACP,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,gNAAK;QACX,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mOAAU;QAChB,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,mNAAM;QACZ,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,0MAAG;QACT,aAAa;IACf;IACA;QACE,MAAM;QACN,MAAM;QACN,MAAM,0MAAG;QACT,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","debugId":null}},
    {"offset": {"line": 1383, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/components/layouts/AppLayout.tsx"],"sourcesContent":["'use client';\n\nimport { ReactNode } from 'react';\nimport Navigation from '@/components/Navigation';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useEffect } from 'react';\n\ninterface AppLayoutProps {\n  children: ReactNode;\n  requireAuth?: boolean;\n}\n\nexport default function AppLayout({ children, requireAuth = true }: AppLayoutProps) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n\n  // Public routes that don't require authentication\n  const publicRoutes = ['/login', '/register', '/demo', '/'];\n  const isPublicRoute = publicRoutes.includes(pathname);\n\n  useEffect(() => {\n    if (!loading && requireAuth && !user && !isPublicRoute) {\n      router.push('/login');\n    }\n  }, [user, loading, requireAuth, isPublicRoute, router]);\n\n  // Show loading spinner while checking authentication\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  // For public routes or when auth is not required, show content without navigation\n  if (!requireAuth || isPublicRoute) {\n    return <>{children}</>;\n  }\n\n  // For authenticated routes, show navigation + content\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      <Navigation />\n      \n      {/* Main content area with proper spacing for navigation */}\n      <div className=\"lg:pl-64\">\n        {/* Content wrapper with padding */}\n        <main className=\"min-h-screen\">\n          {children}\n        </main>\n      </div>\n      \n      {/* Bottom spacing for mobile navigation */}\n      <div className=\"h-16 lg:hidden\"></div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;;;AANA;;;;;AAae,SAAS,UAAU,KAAgD;QAAhD,EAAE,QAAQ,EAAE,cAAc,IAAI,EAAkB,GAAhD;;IAChC,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,6IAAO;IACjC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAE5B,kDAAkD;IAClD,MAAM,eAAe;QAAC;QAAU;QAAa;QAAS;KAAI;IAC1D,MAAM,gBAAgB,aAAa,QAAQ,CAAC;IAE5C,IAAA,0KAAS;+BAAC;YACR,IAAI,CAAC,WAAW,eAAe,CAAC,QAAQ,CAAC,eAAe;gBACtD,OAAO,IAAI,CAAC;YACd;QACF;8BAAG;QAAC;QAAM;QAAS;QAAa;QAAe;KAAO;IAEtD,qDAAqD;IACrD,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,kFAAkF;IAClF,IAAI,CAAC,eAAe,eAAe;QACjC,qBAAO;sBAAG;;IACZ;IAEA,sDAAsD;IACtD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,8IAAU;;;;;0BAGX,6LAAC;gBAAI,WAAU;0BAEb,cAAA,6LAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;0BAKL,6LAAC;gBAAI,WAAU;;;;;;;;;;;;AAGrB;GA9CwB;;QACI,6IAAO;QAClB,kJAAS;QACP,oJAAW;;;KAHN","debugId":null}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/services/tradingService.ts"],"sourcesContent":["import axios from 'axios';\nimport toast from 'react-hot-toast';\nimport { errorHandler, handleNetworkError, handleTradingError, handleValidationError } from '@/lib/errorHandler';\n\n// Market types supported by GainzAlgo integration\nexport type MarketType = 'STOCKS' | 'CRYPTO' | 'FOREX';\nexport type TimeFrame = '1m' | '5m' | '15m' | '30m' | '1h' | '4h' | '1d' | '1w';\nexport type SignalType = 'BUY' | 'SELL' | 'HOLD';\n\n// GainzAlgo Signal Interface\nexport interface TradingSignal {\n  id: string;\n  symbol: string;\n  marketType: MarketType;\n  signalType: SignalType;\n  confidence: number; // 0-100%\n  entryPrice: number;\n  stopLoss: number;\n  takeProfit: number;\n  timeFrame: TimeFrame;\n  timestamp: string;\n  riskRewardRatio: number;\n  profitFactor?: number;\n}\n\n// Enhanced Trade Request with GainzAlgo features\nexport interface CreateTradeRequest {\n  portfolioId: string;\n  symbol: string;\n  marketType: MarketType;\n  side: 'BUY' | 'SELL';\n  quantity: number;\n  price: number;\n  stopLoss?: number;\n  takeProfit?: number;\n  orderType?: 'MARKET' | 'LIMIT' | 'STOP';\n  signalId?: string; // Reference to GainzAlgo signal\n  timeFrame?: TimeFrame;\n  brokerAccountId?: string; // Selected broker account for execution\n  brokerConnectionId?: string; // Broker connection ID\n}\n\n// Enhanced Trade interface with GainzAlgo features\nexport interface Trade {\n  id: string;\n  symbol: string;\n  userId: string;\n  portfolioId: string;\n  marketType: MarketType;\n  side: 'BUY' | 'SELL';\n  quantity: number;\n  price: number;\n  stopLoss?: number;\n  takeProfit?: number;\n  totalValue: number;\n  status: 'PENDING' | 'EXECUTED' | 'CANCELLED' | 'FAILED';\n  executedAt?: string;\n  createdAt: string;\n  signalId?: string;\n  timeFrame?: TimeFrame;\n  actualPnL?: number;\n  winRate?: number;\n  profitFactor?: number;\n  portfolio?: {\n    id: string;\n    name: string;\n  };\n}\n\n// Performance Tracking Interfaces\nexport interface PerformanceMetrics {\n  totalTrades: number;\n  winningTrades: number;\n  losingTrades: number;\n  winRate: number; // percentage\n  profitFactor: number;\n  totalPnL: number;\n  maxDrawdown: number;\n  currentDrawdown: number;\n  averageWin: number;\n  averageLoss: number;\n  riskRewardRatio: number;\n}\n\nexport interface MarketPerformance {\n  marketType: MarketType;\n  metrics: PerformanceMetrics;\n  signals: TradingSignal[];\n  lastUpdated: string;\n}\n\nexport interface TradesResponse {\n  success: boolean;\n  data: {\n    trades: Trade[];\n    pagination: {\n      page: number;\n      limit: number;\n      total: number;\n      pages: number;\n    };\n  };\n}\n\nexport interface CreateTradeResponse {\n  success: boolean;\n  data: {\n    trade: Trade;\n  };\n}\n\nclass TradingService {\n  /**\n   * Create a new trade\n   */\n  async createTrade(tradeData: CreateTradeRequest): Promise<Trade> {\n    try {\n      const response = await axios.post<CreateTradeResponse>('/trades', tradeData);\n      \n      if (response.data.success) {\n        toast.success(`${tradeData.side} order for ${tradeData.symbol} placed successfully!`);\n        return response.data.data.trade;\n      } else {\n        throw new Error('Failed to create trade');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Create Trade');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Get user's trades with optional filters\n   */\n  async getTrades(params?: {\n    page?: number;\n    limit?: number;\n    portfolioId?: string;\n    symbol?: string;\n    side?: 'BUY' | 'SELL';\n    status?: 'PENDING' | 'EXECUTED' | 'CANCELLED' | 'FAILED';\n  }): Promise<TradesResponse['data']> {\n    try {\n      const response = await axios.get<TradesResponse>('/trades', { params });\n      \n      if (response.data.success) {\n        return response.data.data;\n      } else {\n        throw new Error('Failed to fetch trades');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Get Trades');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Get a specific trade by ID\n   */\n  async getTradeById(tradeId: string): Promise<Trade> {\n    try {\n      const response = await axios.get<CreateTradeResponse>(`/trades/${tradeId}`);\n      \n      if (response.data.success) {\n        return response.data.data.trade;\n      } else {\n        throw new Error('Failed to fetch trade');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Get Trade By ID');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Cancel a pending trade\n   */\n  async cancelTrade(tradeId: string): Promise<Trade> {\n    try {\n      const response = await axios.put<CreateTradeResponse>(`/trades/${tradeId}/cancel`);\n      \n      if (response.data.success) {\n        toast.success('Trade cancelled successfully!');\n        return response.data.data.trade;\n      } else {\n        throw new Error('Failed to cancel trade');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Cancel Trade');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Validate trade data before submission\n   */\n  validateTradeData(tradeData: CreateTradeRequest): { isValid: boolean; errors: string[] } {\n    const errors: string[] = [];\n\n    if (!tradeData.portfolioId) {\n      const error = handleValidationError('Portfolio is required', 'Trade Validation');\n      errors.push(error.message);\n    }\n\n    if (!tradeData.symbol) {\n      const error = handleValidationError('Symbol is required', 'Trade Validation');\n      errors.push(error.message);\n    }\n\n    if (!tradeData.side) {\n      const error = handleValidationError('Order side (BUY/SELL) is required', 'Trade Validation');\n      errors.push(error.message);\n    }\n\n    if (!tradeData.quantity || tradeData.quantity <= 0) {\n      const error = handleValidationError('Quantity must be greater than 0', 'Trade Validation');\n      errors.push(error.message);\n    }\n\n    if (!tradeData.price || tradeData.price <= 0) {\n      const error = handleValidationError('Price must be greater than 0', 'Trade Validation');\n      errors.push(error.message);\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors\n    };\n  }\n\n  // GainzAlgo Integration Methods\n\n  /**\n   * Generate trading signals using GainzAlgo algorithm\n   */\n  async generateSignals(marketType: MarketType, timeFrame: TimeFrame, symbols?: string[]): Promise<TradingSignal[]> {\n    try {\n      const response = await axios.post('/trading/signals/generate', {\n        marketType,\n        timeFrame,\n        symbols\n      });\n      \n      if (response.data.success) {\n        return response.data.data.signals;\n      } else {\n        throw new Error('Failed to generate signals');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Generate Signals');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Get active trading signals\n   */\n  async getActiveSignals(marketType?: MarketType): Promise<TradingSignal[]> {\n    try {\n      const params = marketType ? { marketType } : {};\n      const response = await axios.get('/trading/signals/active', { params });\n      \n      if (response.data.success) {\n        return response.data.data.signals;\n      } else {\n        throw new Error('Failed to fetch active signals');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Get Active Signals');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Calculate Stop Loss and Take Profit levels\n   */\n  calculateSLTP(entryPrice: number, signalType: SignalType, riskPercent: number = 2, rewardRatio: number = 2): { stopLoss: number; takeProfit: number } {\n    const riskAmount = entryPrice * (riskPercent / 100);\n    \n    if (signalType === 'BUY') {\n      const stopLoss = entryPrice - riskAmount;\n      const takeProfit = entryPrice + (riskAmount * rewardRatio);\n      return { stopLoss, takeProfit };\n    } else {\n      const stopLoss = entryPrice + riskAmount;\n      const takeProfit = entryPrice - (riskAmount * rewardRatio);\n      return { stopLoss, takeProfit };\n    }\n  }\n\n  /**\n   * Get performance metrics for a specific market or overall\n   */\n  async getPerformanceMetrics(marketType?: MarketType, timeRange?: string): Promise<PerformanceMetrics> {\n    try {\n      const params = { marketType, timeRange };\n      const response = await axios.get('/trading/performance/metrics', { params });\n      \n      if (response.data.success) {\n        return response.data.data.metrics;\n      } else {\n        throw new Error('Failed to fetch performance metrics');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Get Performance Metrics');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Get market-specific performance data\n   */\n  async getMarketPerformance(): Promise<MarketPerformance[]> {\n    try {\n      const response = await axios.get('/trading/performance/markets');\n      \n      if (response.data.success) {\n        return response.data.data.markets;\n      } else {\n        throw new Error('Failed to fetch market performance');\n      }\n    } catch (error: any) {\n      const handledError = handleNetworkError(error, 'Trading Service - Get Market Performance');\n      throw handledError;\n    }\n  }\n\n  /**\n   * Calculate win rate from trades\n   */\n  calculateWinRate(trades: Trade[]): number {\n    if (trades.length === 0) return 0;\n    \n    const executedTrades = trades.filter(trade => trade.status === 'EXECUTED' && trade.actualPnL !== undefined);\n    if (executedTrades.length === 0) return 0;\n    \n    const winningTrades = executedTrades.filter(trade => (trade.actualPnL || 0) > 0);\n    return (winningTrades.length / executedTrades.length) * 100;\n  }\n\n  /**\n   * Calculate profit factor from trades\n   */\n  calculateProfitFactor(trades: Trade[]): number {\n    const executedTrades = trades.filter(trade => trade.status === 'EXECUTED' && trade.actualPnL !== undefined);\n    if (executedTrades.length === 0) return 0;\n    \n    const grossProfit = executedTrades\n      .filter(trade => (trade.actualPnL || 0) > 0)\n      .reduce((sum, trade) => sum + (trade.actualPnL || 0), 0);\n    \n    const grossLoss = Math.abs(executedTrades\n      .filter(trade => (trade.actualPnL || 0) < 0)\n      .reduce((sum, trade) => sum + (trade.actualPnL || 0), 0));\n    \n    return grossLoss === 0 ? (grossProfit > 0 ? Infinity : 0) : grossProfit / grossLoss;\n  }\n\n  /**\n   * Calculate maximum drawdown\n   */\n  calculateMaxDrawdown(trades: Trade[]): number {\n    const executedTrades = trades\n      .filter(trade => trade.status === 'EXECUTED' && trade.actualPnL !== undefined)\n      .sort((a, b) => new Date(a.executedAt || a.createdAt).getTime() - new Date(b.executedAt || b.createdAt).getTime());\n    \n    if (executedTrades.length === 0) return 0;\n    \n    let peak = 0;\n    let maxDrawdown = 0;\n    let runningPnL = 0;\n    \n    for (const trade of executedTrades) {\n      runningPnL += trade.actualPnL || 0;\n      \n      if (runningPnL > peak) {\n        peak = runningPnL;\n      }\n      \n      const drawdown = peak - runningPnL;\n      if (drawdown > maxDrawdown) {\n        maxDrawdown = drawdown;\n      }\n    }\n    \n    return maxDrawdown;\n  }\n\n  /**\n   * Execute trade based on signal with automatic SL/TP\n   */\n  async executeSignalTrade(signal: TradingSignal, portfolioId: string, quantity: number, riskPercent: number = 2): Promise<Trade> {\n    const { stopLoss, takeProfit } = this.calculateSLTP(signal.entryPrice, signal.signalType, riskPercent);\n    \n    const tradeData: CreateTradeRequest = {\n      portfolioId,\n      symbol: signal.symbol,\n      marketType: signal.marketType,\n      side: signal.signalType === 'BUY' ? 'BUY' : 'SELL',\n      quantity,\n      price: signal.entryPrice,\n      stopLoss,\n      takeProfit,\n      signalId: signal.id,\n      timeFrame: signal.timeFrame,\n      orderType: 'MARKET'\n    };\n    \n    return this.createTrade(tradeData);\n  }\n}\n\nexport const tradingService = new TradingService();\nexport default tradingService;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1775, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/components/BrokerAccountSelector.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { ChevronDownIcon, CheckIcon } from '@heroicons/react/24/outline';\n\ninterface BrokerAccount {\n  id: string;\n  accountNumber: string;\n  accountType: string;\n  status: string;\n  buyingPower: number;\n  cashBalance: number;\n  portfolioValue: number;\n  currency: string;\n  brokerConnection: {\n    id: string;\n    accountName: string;\n    brokerType: string;\n    environment: string;\n  };\n}\n\ninterface BrokerAccountSelectorProps {\n  selectedAccount?: BrokerAccount | null;\n  onAccountSelect: (account: BrokerAccount | null) => void;\n  className?: string;\n  placeholder?: string;\n}\n\nexport default function BrokerAccountSelector({\n  selectedAccount,\n  onAccountSelect,\n  className = '',\n  placeholder = 'Select a broker account'\n}: BrokerAccountSelectorProps) {\n  const [accounts, setAccounts] = useState<BrokerAccount[]>([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    fetchBrokerAccounts();\n  }, []);\n\n  const fetchBrokerAccounts = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        // User is not authenticated, set empty accounts and return\n        setIsAuthenticated(false);\n        setAccounts([]);\n        setLoading(false);\n        return;\n      }\n      \n      setIsAuthenticated(true);\n\n      const response = await fetch('/api/brokers/accounts', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch broker accounts');\n      }\n\n      const data = await response.json();\n      if (data.success) {\n        setAccounts(data.data || []);\n      } else {\n        throw new Error(data.message || 'Failed to fetch accounts');\n      }\n    } catch (err) {\n      console.error('Error fetching broker accounts:', err);\n      setError(err instanceof Error ? err.message : 'Failed to load accounts');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount: number, currency: string = 'USD') => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: currency\n    }).format(amount);\n  };\n\n  const getBrokerDisplayName = (brokerType: string) => {\n    const brokerNames: { [key: string]: string } = {\n      'ALPACA': 'Alpaca',\n      'INTERACTIVE_BROKERS': 'Interactive Brokers',\n      'TD_AMERITRADE': 'TD Ameritrade',\n      'SCHWAB': 'Charles Schwab',\n      'FIDELITY': 'Fidelity',\n      'E_TRADE': 'E*TRADE'\n    };\n    return brokerNames[brokerType] || brokerType;\n  };\n\n  const getAccountTypeDisplay = (accountType: string) => {\n    const typeNames: { [key: string]: string } = {\n      'CASH': 'Cash Account',\n      'MARGIN': 'Margin Account',\n      'RETIREMENT': 'Retirement Account',\n      'CRYPTO': 'Crypto Account'\n    };\n    return typeNames[accountType] || accountType;\n  };\n\n  const handleAccountSelect = (account: BrokerAccount) => {\n    onAccountSelect(account);\n    setIsOpen(false);\n  };\n\n  if (loading) {\n    return (\n      <div className={`relative ${className}`}>\n        <div className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500\">\n          Loading accounts...\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`relative ${className}`}>\n        <div className=\"w-full px-3 py-2 border border-red-300 rounded-md bg-red-50 text-red-600\">\n          {error}\n        </div>\n      </div>\n    );\n  }\n\n  if (accounts.length === 0) {\n    return (\n      <div className={`relative ${className}`}>\n        <div className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-500\">\n          {isAuthenticated \n            ? \"No broker accounts found. Please connect a broker first.\"\n            : \"Please log in to view broker accounts.\"\n          }\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`relative ${className}`}>\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative w-full cursor-pointer rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 text-left shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 sm:text-sm\"\n      >\n        <span className=\"block truncate\">\n          {selectedAccount ? (\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <span className=\"font-medium\">\n                  {getBrokerDisplayName(selectedAccount.brokerConnection.brokerType)}\n                </span>\n                <span className=\"ml-2 text-gray-500\">\n                  {selectedAccount.brokerConnection.accountName}\n                </span>\n              </div>\n              <div className=\"text-sm text-gray-600\">\n                {formatCurrency(selectedAccount.portfolioValue, selectedAccount.currency)}\n              </div>\n            </div>\n          ) : (\n            <span className=\"text-gray-500\">{placeholder}</span>\n          )}\n        </span>\n        <span className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2\">\n          <ChevronDownIcon className=\"h-5 w-5 text-gray-400\" aria-hidden=\"true\" />\n        </span>\n      </button>\n\n      {isOpen && (\n        <div className=\"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm\">\n          <div\n            className=\"relative cursor-pointer select-none py-2 pl-3 pr-9 text-gray-900 hover:bg-blue-50\"\n            onClick={() => handleAccountSelect(null as any)}\n          >\n            <span className=\"block truncate text-gray-500\">Clear selection</span>\n          </div>\n          {accounts.map((account) => (\n            <div\n              key={account.id}\n              className=\"relative cursor-pointer select-none py-2 pl-3 pr-9 text-gray-900 hover:bg-blue-50\"\n              onClick={() => handleAccountSelect(account)}\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center\">\n                    <span className=\"font-medium\">\n                      {getBrokerDisplayName(account.brokerConnection.brokerType)}\n                    </span>\n                    <span className=\"ml-2 text-gray-500\">\n                      {account.brokerConnection.accountName}\n                    </span>\n                    <span className=\"ml-2 text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded\">\n                      {account.brokerConnection.environment}\n                    </span>\n                  </div>\n                  <div className=\"text-sm text-gray-600 mt-1\">\n                    <span>{getAccountTypeDisplay(account.accountType)}</span>\n                    <span className=\"mx-2\">•</span>\n                    <span>Account: {account.accountNumber}</span>\n                  </div>\n                  <div className=\"text-sm text-gray-600\">\n                    <span>Portfolio: {formatCurrency(account.portfolioValue, account.currency)}</span>\n                    <span className=\"mx-2\">•</span>\n                    <span>Cash: {formatCurrency(account.cashBalance, account.currency)}</span>\n                    <span className=\"mx-2\">•</span>\n                    <span>Buying Power: {formatCurrency(account.buyingPower, account.currency)}</span>\n                  </div>\n                </div>\n              </div>\n\n              {selectedAccount?.id === account.id && (\n                <span className=\"absolute inset-y-0 right-0 flex items-center pr-4 text-blue-600\">\n                  <CheckIcon className=\"h-5 w-5\" aria-hidden=\"true\" />\n                </span>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2207, "column": 0}, "map": {"version":3,"sources":["file:///Users/blvckdlphn/projects/KAIRO/src/app/trading/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/contexts/AuthContext';\nimport AppLayout from '@/components/layouts/AppLayout';\nimport {\n  TrendingUp,\n  TrendingDown,\n  DollarSign,\n  BarChart3,\n  LineChart,\n  Activity,\n  Search,\n  Filter,\n  Star,\n  Clock,\n  Volume2,\n  ArrowUpRight,\n  ArrowDownRight,\n  Plus,\n  Minus,\n  RefreshCw,\n  Eye,\n  Settings,\n  Zap,\n  Code,\n  Target,\n  ArrowRight\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { tradingService, CreateTradeRequest } from '@/services/tradingService';\nimport { toast } from 'react-hot-toast';\nimport BrokerAccountSelector from '@/components/BrokerAccountSelector';\nimport { useBrokerAccount } from '@/contexts/BrokerAccountContext';\n\ninterface MarketData {\n  symbol: string;\n  name: string;\n  price: number;\n  change: number;\n  changePercent: number;\n  volume: number;\n  marketCap: number;\n  high24h: number;\n  low24h: number;\n  sector: string;\n  type: 'stock' | 'crypto' | 'forex' | 'commodity';\n}\n\ninterface OrderBookEntry {\n  price: number;\n  quantity: number;\n  total: number;\n}\n\ninterface Trade {\n  id: string;\n  symbol: string;\n  type: 'buy' | 'sell';\n  quantity: number;\n  price: number;\n  timestamp: string;\n  status: 'pending' | 'filled' | 'cancelled';\n}\n\nexport default function TradingPage() {\n  const { user } = useAuth();\n  const { selectedAccount: selectedBrokerAccount, setSelectedAccount: setSelectedBrokerAccount } = useBrokerAccount();\n  const [activeTab, setActiveTab] = useState<'market' | 'watchlist' | 'orders' | 'chart'>('market');\n  const [selectedAsset, setSelectedAsset] = useState<string>('AAPL');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [orderType, setOrderType] = useState<'market' | 'limit' | 'stop'>('market');\n  const [orderSide, setOrderSide] = useState<'buy' | 'sell'>('buy');\n  const [orderQuantity, setOrderQuantity] = useState('');\n  const [orderPrice, setOrderPrice] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [portfolioId, setPortfolioId] = useState('');\n  const [isPlacingOrder, setIsPlacingOrder] = useState(false);\n\n  // Mock market data\n  const [marketData, setMarketData] = useState<MarketData[]>([\n    {\n      symbol: 'AAPL',\n      name: 'Apple Inc.',\n      price: 175.80,\n      change: 2.45,\n      changePercent: 1.41,\n      volume: 45678900,\n      marketCap: 2800000000000,\n      high24h: 177.20,\n      low24h: 173.50,\n      sector: 'Technology',\n      type: 'stock'\n    },\n    {\n      symbol: 'TSLA',\n      name: 'Tesla Inc.',\n      price: 245.30,\n      change: -3.20,\n      changePercent: -1.29,\n      volume: 32456780,\n      marketCap: 780000000000,\n      high24h: 250.80,\n      low24h: 243.10,\n      sector: 'Automotive',\n      type: 'stock'\n    },\n    {\n      symbol: 'BTC',\n      name: 'Bitcoin',\n      price: 52000.00,\n      change: 1200.00,\n      changePercent: 2.36,\n      volume: 28000000000,\n      marketCap: 1020000000000,\n      high24h: 53500.00,\n      low24h: 50800.00,\n      sector: 'Cryptocurrency',\n      type: 'crypto'\n    },\n    {\n      symbol: 'ETH',\n      name: 'Ethereum',\n      price: 3200.50,\n      change: 85.30,\n      changePercent: 2.74,\n      volume: 15000000000,\n      marketCap: 385000000000,\n      high24h: 3250.00,\n      low24h: 3100.00,\n      sector: 'Cryptocurrency',\n      type: 'crypto'\n    },\n    {\n      symbol: 'EURUSD',\n      name: 'Euro/US Dollar',\n      price: 1.0875,\n      change: 0.0025,\n      changePercent: 0.23,\n      volume: 125000000,\n      marketCap: 0,\n      high24h: 1.0890,\n      low24h: 1.0850,\n      sector: 'Forex',\n      type: 'forex'\n    }\n  ]);\n\n  // Mock order book data\n  const [orderBook, setOrderBook] = useState({\n    bids: [\n      { price: 175.75, quantity: 1500, total: 263625 },\n      { price: 175.70, quantity: 2300, total: 404110 },\n      { price: 175.65, quantity: 1800, total: 316170 },\n      { price: 175.60, quantity: 2100, total: 368760 },\n      { price: 175.55, quantity: 1200, total: 210660 }\n    ],\n    asks: [\n      { price: 175.85, quantity: 1200, total: 211020 },\n      { price: 175.90, quantity: 1800, total: 316620 },\n      { price: 175.95, quantity: 2200, total: 387090 },\n      { price: 176.00, quantity: 1500, total: 264000 },\n      { price: 176.05, quantity: 1900, total: 334495 }\n    ]\n  });\n\n  // Mock recent trades\n  const [recentTrades, setRecentTrades] = useState<Trade[]>([\n    {\n      id: '1',\n      symbol: 'AAPL',\n      type: 'buy',\n      quantity: 100,\n      price: 175.80,\n      timestamp: '2024-03-15T10:30:00Z',\n      status: 'filled'\n    },\n    {\n      id: '2',\n      symbol: 'TSLA',\n      type: 'sell',\n      quantity: 50,\n      price: 245.30,\n      timestamp: '2024-03-15T10:25:00Z',\n      status: 'filled'\n    },\n    {\n      id: '3',\n      symbol: 'BTC',\n      type: 'buy',\n      quantity: 0.1,\n      price: 52000.00,\n      timestamp: '2024-03-15T10:20:00Z',\n      status: 'pending'\n    }\n  ]);\n\n  const [watchlist, setWatchlist] = useState<string[]>(['AAPL', 'TSLA', 'BTC']);\n\n  useEffect(() => {\n    // Simulate loading\n    const timer = setTimeout(() => setLoading(false), 1000);\n    return () => clearTimeout(timer);\n  }, []);\n\n  const selectedAssetData = marketData.find(asset => asset.symbol === selectedAsset);\n\n  const filteredMarketData = marketData.filter(asset => \n    asset.symbol.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    asset.name.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const formatCurrency = (amount: number, decimals = 2) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: decimals,\n      maximumFractionDigits: decimals\n    }).format(amount);\n  };\n\n  const formatNumber = (num: number) => {\n    if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';\n    if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';\n    if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';\n    if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';\n    return num.toLocaleString();\n  };\n\n  const handleAddToWatchlist = (symbol: string) => {\n    if (!watchlist.includes(symbol)) {\n      setWatchlist([...watchlist, symbol]);\n    }\n  };\n\n  const handleRemoveFromWatchlist = (symbol: string) => {\n    setWatchlist(watchlist.filter(s => s !== symbol));\n  };\n\n  const handlePlaceOrder = async () => {\n    if (!selectedAsset || !orderQuantity || !portfolioId || !selectedBrokerAccount) {\n      toast.error('Please fill in all required fields including broker account');\n      return;\n    }\n\n    const tradeData: CreateTradeRequest = {\n      portfolioId,\n      symbol: selectedAsset,\n      marketType: 'STOCKS', // Default to stocks, can be enhanced to detect market type\n      side: orderSide.toUpperCase() as 'BUY' | 'SELL',\n      quantity: parseFloat(orderQuantity),\n      price: orderType === 'market' ? 0 : parseFloat(orderPrice || '0'),\n      orderType: orderType.toUpperCase() as 'MARKET' | 'LIMIT',\n      brokerAccountId: selectedBrokerAccount?.id,\n      brokerConnectionId: selectedBrokerAccount?.brokerConnection?.id\n    };\n\n    // Validate trade data\n    const validation = tradingService.validateTradeData(tradeData);\n    if (!validation.isValid) {\n      validation.errors.forEach(error => toast.error(error));\n      return;\n    }\n\n    setIsPlacingOrder(true);\n    try {\n      await tradingService.createTrade(tradeData);\n      \n      // Reset form on success\n      setOrderQuantity('');\n      setOrderPrice('');\n      setPortfolioId('');\n    } catch (error) {\n      // Error handling is done in the service\n    } finally {\n      setIsPlacingOrder(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <AppLayout>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 p-6\">\n        {/* Header */}\n      <div className=\"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"py-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-2\">\n                  Trading\n                </h1>\n                <p className=\"text-gray-600 dark:text-gray-400\">\n                  Trade stocks, crypto, forex, and commodities\n                </p>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <button className=\"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\">\n                  <RefreshCw className=\"h-5 w-5\" />\n                </button>\n                <button className=\"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors\">\n                  <Settings className=\"h-5 w-5\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Trading Features Navigation */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"py-4\">\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n              <Link\n                href=\"/trading/pine-editor\"\n                className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <Code className=\"h-5 w-5 text-blue-600\" />\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-900 dark:text-white\">Pine Editor</div>\n                    <div className=\"text-xs text-gray-500 dark:text-gray-400\">Script strategies</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300\" />\n              </Link>\n              \n              <Link\n                href=\"/trading/profit-targets\"\n                className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <Target className=\"h-5 w-5 text-green-600\" />\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-900 dark:text-white\">Profit Targets</div>\n                    <div className=\"text-xs text-gray-500 dark:text-gray-400\">Daily goals</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300\" />\n              </Link>\n              \n              <Link\n                href=\"/trading/market-updates\"\n                className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <Activity className=\"h-5 w-5 text-green-600\" />\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-900 dark:text-white\">Market Updates</div>\n                    <div className=\"text-xs text-gray-500 dark:text-gray-400\">Live data</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300\" />\n              </Link>\n              \n              <Link\n                href=\"/trading/futures\"\n                className=\"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors group\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <BarChart3 className=\"h-5 w-5 text-blue-600\" />\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-900 dark:text-white\">Futures</div>\n                    <div className=\"text-xs text-gray-500 dark:text-gray-400\">Contracts</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300\" />\n              </Link>\n            </div>\n            \n            <div className=\"mt-4\">\n              <Link\n                href=\"/trading/options\"\n                className=\"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-lg hover:from-purple-100 hover:to-blue-100 dark:hover:from-purple-900/30 dark:hover:to-blue-900/30 transition-colors group border border-purple-200 dark:border-purple-700\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <Target className=\"h-5 w-5 text-purple-600\" />\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-900 dark:text-white\">Options Trading</div>\n                    <div className=\"text-xs text-gray-500 dark:text-gray-400\">Advanced strategies with Greeks calculation</div>\n                  </div>\n                </div>\n                <ArrowRight className=\"h-4 w-4 text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n          {/* Market Data / Watchlist */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700\">\n              {/* Tabs */}\n              <div className=\"flex border-b border-gray-200 dark:border-gray-700\">\n                <button\n                  onClick={() => setActiveTab('market')}\n                  className={`flex-1 px-4 py-3 text-sm font-medium ${\n                    activeTab === 'market'\n                      ? 'text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400'\n                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white'\n                  }`}\n                >\n                  Market\n                </button>\n                <button\n                  onClick={() => setActiveTab('watchlist')}\n                  className={`flex-1 px-4 py-3 text-sm font-medium ${\n                    activeTab === 'watchlist'\n                      ? 'text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400'\n                      : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white'\n                  }`}\n                >\n                  Watchlist\n                </button>\n              </div>\n\n              {/* Search */}\n              <div className=\"p-4 border-b border-gray-200 dark:border-gray-700\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search assets...\"\n                    value={searchQuery}\n                    onChange={(e) => setSearchQuery(e.target.value)}\n                    className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm\"\n                  />\n                </div>\n              </div>\n\n              {/* Asset List */}\n              <div className=\"max-h-96 overflow-y-auto\">\n                {(activeTab === 'market' ? filteredMarketData : marketData.filter(asset => watchlist.includes(asset.symbol))).map((asset) => (\n                  <div\n                    key={asset.symbol}\n                    onClick={() => setSelectedAsset(asset.symbol)}\n                    className={`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 ${\n                      selectedAsset === asset.symbol ? 'bg-blue-50 dark:bg-blue-900/20' : ''\n                    }`}\n                  >\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <div className=\"flex items-center space-x-2\">\n                        <span className=\"font-semibold text-gray-900 dark:text-white\">{asset.symbol}</span>\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            if (watchlist.includes(asset.symbol)) {\n                              handleRemoveFromWatchlist(asset.symbol);\n                            } else {\n                              handleAddToWatchlist(asset.symbol);\n                            }\n                          }}\n                          className={`p-1 rounded ${\n                            watchlist.includes(asset.symbol)\n                              ? 'text-yellow-500 hover:text-yellow-600'\n                              : 'text-gray-400 hover:text-yellow-500'\n                          }`}\n                        >\n                          <Star className={`h-3 w-3 ${watchlist.includes(asset.symbol) ? 'fill-current' : ''}`} />\n                        </button>\n                      </div>\n                      <span className={`text-sm font-medium ${\n                        asset.change >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'\n                      }`}>\n                        {asset.change >= 0 ? '+' : ''}{asset.changePercent.toFixed(2)}%\n                      </span>\n                    </div>\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm text-gray-600 dark:text-gray-400\">{asset.name}</span>\n                      <span className=\"font-medium text-gray-900 dark:text-white\">\n                        {formatCurrency(asset.price, asset.type === 'forex' ? 4 : 2)}\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Chart and Trading Interface */}\n          <div className=\"lg:col-span-3\">\n            <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-6\">\n              {/* Chart */}\n              <div className=\"xl:col-span-2\">\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n                  <div className=\"flex items-center justify-between mb-6\">\n                    <div>\n                      <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                        {selectedAssetData?.symbol} - {selectedAssetData?.name}\n                      </h2>\n                      <div className=\"flex items-center space-x-4 mt-2\">\n                        <span className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                          {selectedAssetData && formatCurrency(selectedAssetData.price, selectedAssetData.type === 'forex' ? 4 : 2)}\n                        </span>\n                        <span className={`flex items-center text-sm font-medium ${\n                          selectedAssetData && selectedAssetData.change >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'\n                        }`}>\n                          {selectedAssetData && selectedAssetData.change >= 0 ? <ArrowUpRight className=\"h-4 w-4 mr-1\" /> : <ArrowDownRight className=\"h-4 w-4 mr-1\" />}\n                          {selectedAssetData && formatCurrency(Math.abs(selectedAssetData.change), 2)} ({selectedAssetData && selectedAssetData.changePercent.toFixed(2)}%)\n                        </span>\n                      </div>\n                    </div>\n                    <div className=\"flex space-x-1\">\n                      {['1D', '1W', '1M', '3M', '1Y'].map((period) => (\n                        <button\n                          key={period}\n                          className=\"px-3 py-1 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded\"\n                        >\n                          {period}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  \n                  {/* Chart Placeholder */}\n                  <div className=\"h-80 flex items-center justify-center bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                    <div className=\"text-center\">\n                      <LineChart className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\n                      <p className=\"text-gray-500 dark:text-gray-400\">Interactive chart would go here</p>\n                      <p className=\"text-sm text-gray-400 dark:text-gray-500 mt-2\">\n                        Real-time price data and technical indicators\n                      </p>\n                    </div>\n                  </div>\n\n                  {/* Asset Stats */}\n                  {selectedAssetData && (\n                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700\">\n                      <div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">24h High</p>\n                        <p className=\"font-semibold text-gray-900 dark:text-white\">\n                          {formatCurrency(selectedAssetData.high24h, selectedAssetData.type === 'forex' ? 4 : 2)}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">24h Low</p>\n                        <p className=\"font-semibold text-gray-900 dark:text-white\">\n                          {formatCurrency(selectedAssetData.low24h, selectedAssetData.type === 'forex' ? 4 : 2)}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"text-sm text-gray-600 dark:text-gray-400\">Volume</p>\n                        <p className=\"font-semibold text-gray-900 dark:text-white\">\n                          {formatNumber(selectedAssetData.volume)}\n                        </p>\n                      </div>\n                      {selectedAssetData.marketCap > 0 && (\n                        <div>\n                          <p className=\"text-sm text-gray-600 dark:text-gray-400\">Market Cap</p>\n                          <p className=\"font-semibold text-gray-900 dark:text-white\">\n                            {formatNumber(selectedAssetData.marketCap)}\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Trading Panel */}\n              <div className=\"xl:col-span-1\">\n                <div className=\"space-y-6\">\n                  {/* Order Form */}\n                  <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Place Order</h3>\n                    \n                    {/* Order Type */}\n                    <div className=\"flex space-x-1 mb-4\">\n                      {['market', 'limit', 'stop'].map((type) => (\n                        <button\n                          key={type}\n                          onClick={() => setOrderType(type as any)}\n                          className={`flex-1 py-2 px-3 text-sm font-medium rounded ${\n                            orderType === type\n                              ? 'bg-blue-600 text-white'\n                              : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                          }`}\n                        >\n                          {type.charAt(0).toUpperCase() + type.slice(1)}\n                        </button>\n                      ))}\n                    </div>\n\n                    {/* Buy/Sell Toggle */}\n                    <div className=\"flex space-x-1 mb-4\">\n                      <button\n                        onClick={() => setOrderSide('buy')}\n                        className={`flex-1 py-2 px-3 font-medium rounded ${\n                          orderSide === 'buy'\n                            ? 'bg-green-600 text-white'\n                            : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                        }`}\n                      >\n                        Buy\n                      </button>\n                      <button\n                        onClick={() => setOrderSide('sell')}\n                        className={`flex-1 py-2 px-3 font-medium rounded ${\n                          orderSide === 'sell'\n                            ? 'bg-red-600 text-white'\n                            : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600'\n                        }`}\n                      >\n                        Sell\n                      </button>\n                    </div>\n\n                    {/* Broker Account */}\n                    <div className=\"mb-4\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Broker Account\n                      </label>\n                      <BrokerAccountSelector\n                        selectedAccount={selectedBrokerAccount}\n                        onAccountSelect={setSelectedBrokerAccount}\n                        placeholder=\"Select a broker account for trading\"\n                      />\n                    </div>\n\n                    {/* Portfolio */}\n                    <div className=\"mb-4\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Portfolio\n                      </label>\n                      <select\n                        value={portfolioId}\n                        onChange={(e) => setPortfolioId(e.target.value)}\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      >\n                        <option value=\"\">Select portfolio</option>\n                        <option value=\"portfolio-1\">Main Portfolio</option>\n                        <option value=\"portfolio-2\">Growth Portfolio</option>\n                        <option value=\"portfolio-3\">Conservative Portfolio</option>\n                      </select>\n                    </div>\n\n                    {/* Quantity */}\n                    <div className=\"mb-4\">\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Quantity\n                      </label>\n                      <input\n                        type=\"number\"\n                        value={orderQuantity}\n                        onChange={(e) => setOrderQuantity(e.target.value)}\n                        placeholder=\"0.00\"\n                        className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </div>\n\n                    {/* Price (for limit orders) */}\n                    {orderType !== 'market' && (\n                      <div className=\"mb-4\">\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                          Price\n                        </label>\n                        <input\n                          type=\"number\"\n                          value={orderPrice}\n                          onChange={(e) => setOrderPrice(e.target.value)}\n                          placeholder=\"0.00\"\n                          className=\"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        />\n                      </div>\n                    )}\n\n                    {/* Order Total */}\n                    <div className=\"mb-4 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\">\n                      <div className=\"flex justify-between text-sm\">\n                        <span className=\"text-gray-600 dark:text-gray-400\">Estimated Total:</span>\n                        <span className=\"font-medium text-gray-900 dark:text-white\">\n                          {orderQuantity && selectedAssetData ? \n                            formatCurrency(parseFloat(orderQuantity) * (orderType === 'market' ? selectedAssetData.price : parseFloat(orderPrice || '0')))\n                            : '$0.00'\n                          }\n                        </span>\n                      </div>\n                    </div>\n\n                    {/* Place Order Button */}\n                    <button\n                      onClick={handlePlaceOrder}\n                      disabled={!orderQuantity || !portfolioId || !selectedBrokerAccount || (orderType !== 'market' && !orderPrice) || isPlacingOrder}\n                      className={`w-full py-3 px-4 rounded-lg font-medium transition-colors ${\n                        orderSide === 'buy'\n                          ? 'bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white'\n                          : 'bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white'\n                      }`}\n                    >\n                      {isPlacingOrder ? 'Placing Order...' : `${orderSide === 'buy' ? 'Buy' : 'Sell'} ${selectedAsset}`}\n                    </button>\n                  </div>\n\n                  {/* Order Book */}\n                  <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Order Book</h3>\n                    \n                    {/* Asks */}\n                    <div className=\"mb-4\">\n                      <h4 className=\"text-sm font-medium text-red-600 dark:text-red-400 mb-2\">Asks</h4>\n                      <div className=\"space-y-1\">\n                        {orderBook.asks.slice().reverse().map((ask, index) => (\n                          <div key={index} className=\"flex justify-between text-xs\">\n                            <span className=\"text-red-600 dark:text-red-400\">{formatCurrency(ask.price, 2)}</span>\n                            <span className=\"text-gray-600 dark:text-gray-400\">{ask.quantity}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Spread */}\n                    <div className=\"py-2 border-y border-gray-200 dark:border-gray-700 mb-4\">\n                      <div className=\"text-center text-sm font-medium text-gray-900 dark:text-white\">\n                        Spread: {formatCurrency(orderBook.asks[0].price - orderBook.bids[0].price, 2)}\n                      </div>\n                    </div>\n\n                    {/* Bids */}\n                    <div>\n                      <h4 className=\"text-sm font-medium text-green-600 dark:text-green-400 mb-2\">Bids</h4>\n                      <div className=\"space-y-1\">\n                        {orderBook.bids.map((bid, index) => (\n                          <div key={index} className=\"flex justify-between text-xs\">\n                            <span className=\"text-green-600 dark:text-green-400\">{formatCurrency(bid.price, 2)}</span>\n                            <span className=\"text-gray-600 dark:text-gray-400\">{bid.quantity}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Recent Trades */}\n                  <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-4\">Recent Trades</h3>\n                    <div className=\"space-y-3\">\n                      {recentTrades.map((trade) => (\n                        <div key={trade.id} className=\"flex items-center justify-between\">\n                          <div className=\"flex items-center space-x-2\">\n                            <div className={`h-2 w-2 rounded-full ${\n                              trade.type === 'buy' ? 'bg-green-500' : 'bg-red-500'\n                            }`}></div>\n                            <span className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                              {trade.symbol}\n                            </span>\n                            <span className={`text-xs px-2 py-1 rounded-full ${\n                              trade.status === 'filled' ? 'bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400' :\n                              trade.status === 'pending' ? 'bg-yellow-100 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400' :\n                              'bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400'\n                            }`}>\n                              {trade.status}\n                            </span>\n                          </div>\n                          <div className=\"text-right\">\n                            <p className=\"text-sm font-medium text-gray-900 dark:text-white\">\n                              {formatCurrency(trade.price, 2)}\n                            </p>\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                              {trade.quantity} shares\n                            </p>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      </div>\n    </AppLayout>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}
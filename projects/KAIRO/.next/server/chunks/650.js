exports.id=650,exports.ids=[650],exports.modules={14101:(a,b,c)=>{"use strict";c.d(b,{DP:()=>h,NP:()=>g});var d=c(21124),e=c(38301);let f=(0,e.createContext)(void 0),g=({children:a})=>{let[b,c]=(0,e.useState)("light"),[g,h]=(0,e.useState)(!1);if((0,e.useEffect)(()=>{h(!0);let a="light";c(a),"undefined"!=typeof document&&document.documentElement.classList.toggle("dark",false)},[]),!g)return(0,d.jsx)(d.Fragment,{children:a});let i=a=>{c(a),"undefined"!=typeof document&&document.documentElement.classList.toggle("dark","dark"===a)};return(0,d.jsx)(f.Provider,{value:{theme:b,toggleTheme:()=>{i("light"===b?"dark":"light")},setTheme:i},children:a})},h=()=>{let a=(0,e.useContext)(f);return void 0===a?{theme:"light",toggleTheme:()=>{},setTheme:()=>{}}:a}},15355:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/blvckdlphn/projects/KAIRO/src/components/ErrorBoundary.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/components/ErrorBoundary.tsx","default");(0,d.registerClientReference)(function(){throw Error("Attempted to call useErrorHandler() from the server but useErrorHandler is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/components/ErrorBoundary.tsx","useErrorHandler"),(0,d.registerClientReference)(function(){throw Error("Attempted to call withErrorBoundary() from the server but withErrorBoundary is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/components/ErrorBoundary.tsx","withErrorBoundary")},19272:(a,b,c)=>{"use strict";c.d(b,{u:()=>h,y:()=>g});var d=c(21124),e=c(38301);let f=(0,e.createContext)(void 0);function g({children:a}){let[b,c]=(0,e.useState)(null),[g,h]=(0,e.useState)([]),[i,j]=(0,e.useState)(!0),[k,l]=(0,e.useState)(null),m=async()=>{try{j(!0),l(null);let a=localStorage.getItem("token");if(!a)throw Error("No authentication token found");let d=await fetch("/api/brokers/accounts",{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}});if(!d.ok)throw Error("Failed to fetch broker accounts");let e=await d.json();if(e.success)h(e.data||[]),b&&(e.data.find(a=>a.id===b.id)||c(null)),!b&&e.data.length>0&&c(e.data[0]);else throw Error(e.message||"Failed to fetch accounts")}catch(a){console.error("Error fetching broker accounts:",a),l(a instanceof Error?a.message:"Failed to load accounts"),h([])}finally{j(!1)}},n=async()=>{await m()};return(0,d.jsx)(f.Provider,{value:{selectedAccount:b,setSelectedAccount:c,accounts:g,loading:i,error:k,refreshAccounts:n},children:a})}function h(){let a=(0,e.useContext)(f);if(void 0===a)throw Error("useBrokerAccount must be used within a BrokerAccountProvider");return a}},26921:(a,b,c)=>{"use strict";c.d(b,{default:()=>k});var d=c(21124),e=c(38301),f=c(45246),g=c(12e3),h=c(25345),i=c(58562);class j extends e.Component{constructor(a){super(a),this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{},this.state={hasError:!1}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){this.setState({errorInfo:b}),f.r_.handle(a,"ErrorBoundary"),this.props.onError&&this.props.onError(a,b)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-900",children:(0,d.jsxs)("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,d.jsxs)("div",{className:"p-6 text-center",children:[(0,d.jsx)("div",{className:"mx-auto mb-4 w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center",children:(0,d.jsx)(g.A,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Oops! Something went wrong"})]}),(0,d.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"We encountered an unexpected error. This has been logged and our team will look into it."}),!1,(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,d.jsxs)("button",{onClick:this.handleRetry,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[(0,d.jsx)(h.A,{className:"w-4 h-4"}),"Try Again"]}),(0,d.jsxs)("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,d.jsx)(i.A,{className:"w-4 h-4"}),"Go Home"]})]})]})]})}):this.props.children}}let k=j},27626:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/app/providers.tsx","Providers")},34613:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ChunkLoadErrorHandler:()=>e,default:()=>h,useChunkErrorHandler:()=>g,withChunkErrorHandling:()=>f});var d=c(45246);class e{static{this.retryAttempts=new Map}static{this.maxRetries=3}static{this.retryDelay=1e3}static handleChunkError(a,b){let c=a?.message||"Unknown chunk loading error";if(!(c.includes("ChunkLoadError")||c.includes("Loading chunk")||c.includes("Loading CSS chunk")))return d.r_.handle(a,"ChunkErrorHandler"),Promise.reject(a);let e=b||c,f=this.retryAttempts.get(e)||0;return f>=this.maxRetries?(d.r_.handle(a,"ChunkErrorHandler - Max Retries Reached"),this.retryAttempts.delete(e),Promise.reject(a)):(this.retryAttempts.set(e,f+1),d.r_.handle(a,"ChunkErrorHandler - Retry Attempt"),new Promise((a,b)=>{setTimeout(()=>{a()},this.retryDelay*(f+1))}))}static clearChunkCache(a){}static resetRetryCount(a){a?this.retryAttempts.delete(a):this.retryAttempts.clear()}static getRetryCount(a){return this.retryAttempts.get(a)||0}}function f(a){return(...b)=>{try{let c=a(...b);if(c&&"function"==typeof c.catch)return c.catch(a=>{if(a&&("ChunkLoadError"===a.name||a.message&&a.message.includes("Loading chunk")))return e.handleChunkError(a);throw a});return c}catch(a){if(a&&("ChunkLoadError"===a.name||a.message&&a.message.includes("Loading chunk")))return void e.handleChunkError(a);throw a}}}function g(){return{handleChunkError:e.handleChunkError,resetRetryCount:e.resetRetryCount,getRetryCount:e.getRetryCount}}let h=e},35055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{ChunkLoadErrorHandler:()=>e,default:()=>h,useChunkErrorHandler:()=>g,withChunkErrorHandling:()=>f});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ChunkLoadErrorHandler() from the server but ChunkLoadErrorHandler is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/lib/chunkErrorHandler.ts","ChunkLoadErrorHandler"),f=(0,d.registerClientReference)(function(){throw Error("Attempted to call withChunkErrorHandling() from the server but withChunkErrorHandling is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/lib/chunkErrorHandler.ts","withChunkErrorHandling"),g=(0,d.registerClientReference)(function(){throw Error("Attempted to call useChunkErrorHandler() from the server but useChunkErrorHandler is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/lib/chunkErrorHandler.ts","useChunkErrorHandler"),h=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/blvckdlphn/projects/KAIRO/src/lib/chunkErrorHandler.ts\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/blvckdlphn/projects/KAIRO/src/lib/chunkErrorHandler.ts","default")},37862:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},43300:(a,b,c)=>{Promise.resolve().then(c.bind(c,64168)),Promise.resolve().then(c.bind(c,27626)),Promise.resolve().then(c.bind(c,15355)),Promise.resolve().then(c.bind(c,35055))},45246:(a,b,c)=>{"use strict";c.d(b,{co:()=>j,nQ:()=>k,r_:()=>i,ux:()=>n});var d=c(66518),e=function(a){return a.VALIDATION="validation",a.NETWORK="network",a.AUTHENTICATION="authentication",a.TRADING="trading",a.COMPILATION="compilation",a.SYSTEM="system",a.USER_INPUT="user_input",a}({}),f=function(a){return a.LOW="low",a.MEDIUM="medium",a.HIGH="high",a.CRITICAL="critical",a}({});let g={validation:{showToast:!0,logToConsole:!1,logToService:!1,retryable:!1},network:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!0},authentication:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!1},trading:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!0},compilation:{showToast:!1,logToConsole:!0,logToService:!1,retryable:!1},system:{showToast:!0,logToConsole:!0,logToService:!0,retryable:!1},user_input:{showToast:!0,logToConsole:!1,logToService:!1,retryable:!1}};class h{constructor(){this.errorQueue=[],this.maxQueueSize=100}static getInstance(){return h.instance||(h.instance=new h),h.instance}handle(a,b,c){let d=this.normalizeError(a,b),e={...g[d.type],...c};return this.addToQueue(d),e.showToast&&this.showToast(d),e.logToConsole&&this.logToConsole(d),e.logToService&&this.logToService(d),d}normalizeError(a,b){return"string"==typeof a?{type:"system",severity:"medium",message:a,timestamp:new Date,context:b}:a instanceof Error?{type:this.inferErrorType(a),severity:this.inferSeverity(a),message:a.message,details:{name:a.name,stack:a.stack},timestamp:new Date,context:b}:{...a,context:b||a.context}}inferErrorType(a){let b=a.message.toLowerCase(),c=a.name.toLowerCase();return b.includes("validation")||b.includes("required")||b.includes("invalid")?"validation":b.includes("network")||b.includes("fetch")||c.includes("network")?"network":b.includes("auth")||b.includes("token")||b.includes("unauthorized")?"authentication":b.includes("trade")||b.includes("order")||b.includes("position")?"trading":b.includes("compile")||b.includes("syntax")||b.includes("parse")?"compilation":"system"}inferSeverity(a){let b=a.message.toLowerCase();return b.includes("critical")||b.includes("fatal")?"critical":b.includes("failed")||b.includes("error")?"high":b.includes("warning")||b.includes("deprecated")?"medium":"low"}showToast(a){let b=this.formatUserMessage(a);switch(a.severity){case"critical":d.oR.error(b,{duration:8e3});break;case"high":d.oR.error(b,{duration:6e3});break;case"medium":(0,d.oR)(b,{icon:"⚠️",duration:4e3});break;case"low":(0,d.oR)(b,{icon:"ℹ️",duration:3e3})}}formatUserMessage(a){switch(a.type){case"validation":return a.message;case"network":return"Network error. Please check your connection and try again.";case"authentication":return"Authentication failed. Please log in again.";case"trading":return`Trading error: ${a.message}`;case"compilation":return`Compilation error: ${a.message}`;default:return"An unexpected error occurred. Please try again."}}logToConsole(a){("critical"===a.severity||"high"===a.severity?console.error:console.warn)(`[${a.type.toUpperCase()}] ${a.message}`,{severity:a.severity,timestamp:a.timestamp,context:a.context,details:a.details})}logToService(a){console.log("Would log to external service:",a)}addToQueue(a){this.errorQueue.push(a),this.errorQueue.length>this.maxQueueSize&&this.errorQueue.shift()}getRecentErrors(a=10){return this.errorQueue.slice(-a)}clearErrors(){this.errorQueue=[]}getErrorStats(){let a={total:this.errorQueue.length,byType:{},bySeverity:{}};return Object.values(e).forEach(b=>{a.byType[b]=0}),Object.values(f).forEach(b=>{a.bySeverity[b]=0}),this.errorQueue.forEach(b=>{a.byType[b.type]++,a.bySeverity[b.severity]++}),a}}let i=h.getInstance(),j=(a,b)=>i.handle({type:"validation",severity:"medium",message:a,timestamp:new Date},b),k=(a,b)=>i.handle(a,b,{showToast:!0,logToConsole:!0,logToService:!0}),l=(a,b,c)=>i.handle({type:"trading",severity:"high",message:a,details:b,timestamp:new Date},c),m=(a,b,c="error")=>i.handle({type:"compilation",severity:"error"===c?"high":"medium",message:`Line ${a}: ${b}`,details:{line:a,type:c},timestamp:new Date},"Pine Script Compilation"),n=()=>({handleError:(a,b)=>i.handle(a,b),handleValidationError:j,handleNetworkError:k,handleTradingError:l,handleCompilationError:m,getRecentErrors:()=>i.getRecentErrors(),getErrorStats:()=>i.getErrorStats(),clearErrors:()=>i.clearErrors()})},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>l,metadata:()=>j,viewport:()=>k});var d=c(75338),e=c(3305),f=c.n(e);c(61135);var g=c(27626),h=c(64168),i=c(15355);c(35055);let j={title:"KAIRO - Copy Trade Any Investor",description:"The ultimate social trading platform. Copy trade hedge funds, managers, celebrities, and friends.",keywords:"trading, copy trading, social trading, investment, portfolio, stocks",authors:[{name:"KAIRO Team"}]},k={width:"device-width",initialScale:1};function l({children:a}){return(0,d.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,d.jsx)("body",{className:f().className,children:(0,d.jsx)(i.default,{children:(0,d.jsxs)(g.Providers,{children:[(0,d.jsx)("div",{className:"min-h-screen bg-background",children:a}),(0,d.jsx)(h.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"hsl(var(--card))",color:"hsl(var(--card-foreground))",border:"1px solid hsl(var(--border))"}}})]})})})})}},56014:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},61135:()=>{},73156:(a,b,c)=>{Promise.resolve().then(c.bind(c,66518)),Promise.resolve().then(c.bind(c,99247)),Promise.resolve().then(c.bind(c,26921)),Promise.resolve().then(c.bind(c,34613))},84342:(a,b,c)=>{"use strict";c.d(b,{As:()=>j,OJ:()=>i});var d=c(21124),e=c(38301),f=c(12989),g=c(66518);let h=(0,e.createContext)(void 0);f.A.defaults.baseURL="http://localhost:3001/api",f.A.interceptors.request.use(a=>a,a=>Promise.reject(a)),f.A.interceptors.response.use(a=>a,async a=>{let b=a.config;return a.response?.status===401&&b._retry,Promise.reject(a)});let i=({children:a})=>{let[b,c]=(0,e.useState)(null),[i,j]=(0,e.useState)(!0);(0,e.useEffect)(()=>{(async()=>{j(!1)})()},[]);let k=async(a,b)=>{try{let{user:d,accessToken:e,refreshToken:h}=(await f.A.post("/auth/login",{email:a,password:b})).data.data;c(d),g.oR.success("Login successful!")}catch(b){let a=b.response?.data?.message||"Login failed";throw g.oR.error(a),b}},l=async a=>{try{let{user:b,accessToken:d,refreshToken:e}=(await f.A.post("/auth/register",a)).data.data;c(b),g.oR.success("Registration successful!")}catch(b){let a=b.response?.data?.message||"Registration failed";throw g.oR.error(a),b}},m=()=>{c(null),g.oR.success("Logged out successfully")},n=async a=>{try{let b=await f.A.put("/auth/profile",a);c(b.data.data.user),g.oR.success("Profile updated successfully!")}catch(b){let a=b.response?.data?.message||"Profile update failed";throw g.oR.error(a),b}},o=async()=>{try{throw Error("Cannot refresh token on server side")}catch(a){throw m(),a}};return(0,d.jsx)(h.Provider,{value:{user:b,loading:i,login:k,register:l,logout:m,updateProfile:n,refreshToken:o},children:a})},j=()=>{let a=(0,e.useContext)(h);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},99247:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>n});var d=c(21124),e=c(38301),f=c(62806),g=c(96610),h=c(84342),i=c(14101),j=c(19272);let k=(0,e.createContext)(void 0);function l({children:a}){let[b,c]=(0,e.useState)(!0);return(0,d.jsx)(k.Provider,{value:{isPaperTrading:b,setIsPaperTrading:c,tradingMode:b?"paper":"live",toggleTradingMode:()=>{c(!b)}},children:a})}let m=new f.E({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});function n({children:a}){return(0,d.jsx)(g.Ht,{client:m,children:(0,d.jsx)(i.NP,{children:(0,d.jsx)(h.OJ,{children:(0,d.jsx)(j.y,{children:(0,d.jsx)(l,{children:a})})})})})}}};